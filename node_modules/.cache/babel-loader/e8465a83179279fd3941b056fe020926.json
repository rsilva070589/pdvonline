{"ast":null,"code":"import \"core-js/modules/es.array.includes.js\";\nimport { indexStore, useUserStore } from '../../store/indexStore';\nimport { onMounted, ref, computed } from 'vue';\nimport axios from 'axios';\nimport { useMeta } from '@/composables/use-meta';\nimport ItensDetalhe from './ItensDetalhe.vue';\nexport default {\n  __name: 'Itens',\n\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n\n    useMeta({\n      title: 'Multiple Tables'\n    });\n    const store = indexStore();\n    const storeLogin = useUserStore();\n    const code_arr = ref([]); //table 1\n    //table 2\n\n    const columns1 = ref(['actions', 'ID', 'CATEGORIA', 'ID_CATEGORIA', 'CODIGO_BARRAS', 'NOME', 'VALOR', 'VALOR_CUSTO', 'QTDE_ESTOQUE', 'SITUACAO']);\n    const items1 = store.itensCadastro;\n    const table_option1 = ref({\n      perPage: 10,\n      perPageValues: [5, 10, 20, 50],\n      skin: 'table ',\n      columnsClasses: {\n        actions: 'actions text-center'\n      },\n      sortable: [],\n      pagination: {\n        nav: 'scroll',\n        chunk: 5\n      },\n      texts: {\n        count: 'Showing {from} to {to} of {count}',\n        filter: '',\n        filterPlaceholder: 'Search...',\n        limit: 'Results:'\n      },\n      sortable: ['ID', 'AMBIENTE', 'TIPO', 'NOMENCLATURA', 'VLR_UNITARIO', 'QTDE_ESTOQUE'],\n      sortIcon: {\n        base: 'sort-icon-none',\n        up: 'sort-icon-asc',\n        down: 'sort-icon-desc'\n      },\n      resizableColumns: false\n    });\n    onMounted(() => {\n      bind_data();\n    });\n\n    const bind_data = async () => {\n      store.itensCadastro = [];\n\n      const getProdutos = () => {\n        let data = JSON.stringify({\n          \"SCHEMA\": storeLogin.empresas?.schema\n        });\n        let config = {\n          method: 'post',\n          maxBodyLength: Infinity,\n          url: store.baseApiHTTPS + '/getprodutos',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          data: data\n        };\n        axios.request(config).then(response => {\n          response.data.map(x => {\n            const itens = {\n              ID: x.id,\n              CATEGORIA: x.categoria,\n              ID_CATEGORIA: x.id_categoria,\n              CODIGO_BARRAS: x.codigo_barras,\n              DESCRICAO: x.descricao,\n              FOTO: x.foto,\n              NOME: x.nome,\n              SITUACAO: x.situacao,\n              VALOR: x.valor,\n              VALOR_CUSTO: x.valor_custo,\n              QTDE_ESTOQUE: x.qtde_estoque\n            };\n            store.itensCadastro.push(itens);\n          });\n        }).catch(error => {\n          console.log(error);\n        });\n      };\n\n      store.itensCategoria = [];\n\n      const getCategorias = () => {\n        let data = JSON.stringify({\n          \"SCHEMA\": storeLogin.empresas?.schema\n        });\n        let config = {\n          method: 'post',\n          maxBodyLength: Infinity,\n          url: store.baseApiHTTPS + '/getCategorias',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          data: data\n        };\n        axios.request(config).then(response => {\n          response.data.map(x => {\n            const itens = {\n              ID: x.id,\n              DESCRICAO: x.descricao\n            };\n            store.itensCategoria.push(itens);\n          });\n        }).catch(error => {\n          console.log(error);\n        });\n      };\n\n      getCategorias();\n      getProdutos();\n      store.itensHistorico = [];\n    }; //table 2\n\n\n    const view_row1 = item1 => {\n      store.itensDetalhe = true;\n      store.ItensSelecionadoDemanda = item1; //table 2\n\n      console.log(item1);\n      store.itensHistorico = [];\n    };\n\n    function selectItemEdit(props) {\n      store.editando = true;\n      console.log(props);\n      store.cadastroProduto.ID = props.ID, store.cadastroProduto.CATEGORIA = props.ID_CATEGORIA, store.cadastroProduto.CODIGO_BARRAS = props.CODIGO_BARRAS, store.cadastroProduto.DESCRICAO = props.DESCRICAO, store.cadastroProduto.FOTO = props.FOTO, store.cadastroProduto.NOME = props.NOME, store.cadastroProduto.SITUACAO = props.SITUACAO, store.cadastroProduto.VALOR = props.VALOR, store.cadastroProduto.VALOR_CUSTO = props.VALOR_CUSTO, store.cadastroProduto.QTDE_ESTOQUE = props.QTDE_ESTOQUE;\n    }\n\n    function editItem(id) {\n      console.log('Editando Item ID: ' + id);\n      console.log('NOMENCLATURA ' + store.cadastroProduto.NOMENCLATURA);\n      var data = JSON.stringify({\n        \"SCHEMA\": storeLogin.empresas?.schema,\n        \"ID\": id,\n        \"CATEGORIA\": store.cadastroProduto.CATEGORIA,\n        \"CODIGO_BARRAS\": store.cadastroProduto.CODIGO_BARRAS,\n        \"DESCRICAO\": store.cadastroProduto.DESCRICAO,\n        \"FOTO\": store.cadastroProduto.FOTO,\n        \"NOME\": store.cadastroProduto.NOME,\n        \"SITUACAO\": store.cadastroProduto.SITUACAO,\n        \"VALOR\": store.cadastroProduto.VALOR,\n        \"VALOR_CUSTO\": store.cadastroProduto.VALOR_CUSTO,\n        \"QTDE_ESTOQUE\": store.cadastroProduto.QTDE_ESTOQUE\n      });\n      var config = {\n        method: 'put',\n        maxBodyLength: Infinity,\n        url: store.baseApiHTTPS + '/produtos',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        data: data\n      };\n      axios(config).then(function (response) {\n        console.log(JSON.stringify(response.data));\n        bind_data();\n      }).catch(function (error) {\n        console.log(error);\n      });\n    }\n\n    function createItem() {\n      console.log('Cadastrando Novo Item');\n\n      var axios = require('axios');\n\n      console.log(store.cadastroProduto.AMBIENTE);\n      var data = JSON.stringify({\n        \"SCHEMA\": storeLogin.empresas?.schema,\n        \"CATEGORIA\": store.cadastroProduto.CATEGORIA,\n        \"ID_CATEGORIA\": store.cadastroProduto.ID_CATEGORIA,\n        \"CODIGO_BARRAS\": store.cadastroProduto.CODIGO_BARRAS,\n        \"DESCRICAO\": store.cadastroProduto.DESCRICAO,\n        \"FOTO\": store.cadastroProduto.FOTO,\n        \"NOME\": store.cadastroProduto.NOME,\n        \"SITUACAO\": store.cadastroProduto.SITUACAO,\n        \"VALOR\": store.cadastroProduto.VALOR,\n        \"VALOR_CUSTO\": store.cadastroProduto.VALOR_CUSTO,\n        \"QTDE_ESTOQUE\": store.cadastroProduto.QTDE_ESTOQUE\n      });\n      var config = {\n        method: 'post',\n        maxBodyLength: Infinity,\n        url: store.baseApiHTTPS + '/produtos',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        data: data\n      };\n      axios(config).then(function (response) {\n        console.log(JSON.stringify(response.data));\n        bind_data();\n      }).catch(function (error) {\n        console.log(error);\n      });\n    }\n\n    function confirmar(id) {\n      console.log('Valor do ID: ' + id);\n\n      if (id > 0) {\n        editItem(id);\n      } else {\n        createItem();\n      }\n\n      store.editando = false;\n      store.cadastroProduto.ID = 0;\n    }\n\n    function deleteItem(props) {\n      store.editando = false;\n      store.cadastroProduto.ID = 0;\n      var data = {\n        \"ID\": props.ID\n      };\n      var config = {\n        method: 'delete',\n        maxBodyLength: Infinity,\n        url: store.baseApiHTTPS + '/produtos',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        data: data\n      };\n      axios(config).then(function (response) {\n        console.log(JSON.stringify(response.data));\n        bind_data();\n      }).catch(function (error) {\n        console.log(error);\n      });\n    }\n\n    function totalEstoque1() {\n      store.itensCadastro;\n      return 1000;\n    }\n\n    function totalEstoque() {\n      if (store.itensCadastro) {\n        var somarProduto = store.itensCadastro.map(p => {\n          return p.VALOR_CUSTO * p.QTDE_ESTOQUE;\n        });\n        let totalProd = 0;\n\n        for (let i in somarProduto) {\n          totalProd += somarProduto[i];\n        }\n\n        return formataDinheiro(totalProd, 2);\n      }\n    }\n\n    function totalEstoqueCategoria(categoria) {\n      if (store.itensCadastro) {\n        var dados = store.itensCadastro;\n        var somarProduto = store.itensCadastro.filter(f => f.CATEGORIA == categoria).map(p => {\n          return p.VALOR_CUSTO * p.QTDE_ESTOQUE;\n        });\n        let totalProd = 0;\n\n        for (let i in somarProduto) {\n          totalProd += somarProduto[i];\n        }\n\n        return formataDinheiro(totalProd, 2);\n      }\n    }\n\n    function formataDinheiro(item) {\n      let venda = item;\n\n      if (!!venda && venda.toString().includes(\",\")) {\n        venda = venda.toString().replace(\",\", \".\");\n      }\n\n      return parseFloat(venda).toFixed(2).replace(\".\", \",\").replace(/(\\d)(?=(\\d{3})+\\,)/g, \"$1.\");\n    }\n\n    const __returned__ = {\n      store,\n      storeLogin,\n      code_arr,\n      columns1,\n      items1,\n      table_option1,\n      bind_data,\n      view_row1,\n      selectItemEdit,\n      editItem,\n      createItem,\n      confirmar,\n      deleteItem,\n      totalEstoque1,\n      totalEstoque,\n      totalEstoqueCategoria,\n      formataDinheiro,\n\n      get indexStore() {\n        return indexStore;\n      },\n\n      get useUserStore() {\n        return useUserStore;\n      },\n\n      onMounted,\n      ref,\n      computed,\n\n      get axios() {\n        return axios;\n      },\n\n      get useMeta() {\n        return useMeta;\n      },\n\n      ItensDetalhe\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n\n};","map":{"version":3,"mappings":";AAoPI,SAAQA,UAAR,EAAoBC,YAApB,QAAuC,wBAAvC;AACA,SAASC,SAAT,EAAoBC,GAApB,EAAyBC,QAAzB,QAAyC,KAAzC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,wBAAxB;AACA,OAAOC,YAAP,MAAyB,oBAAzB;;;;;;;;;IACAD,OAAO,CAAC;MAAEE,KAAK,EAAE;IAAT,CAAD,CAAP;IACA,MAAMC,KAAK,GAAGT,UAAU,EAAxB;IACA,MAAMU,UAAU,GAAGT,YAAY,EAA/B;IACA,MAAMU,QAAQ,GAAGR,GAAG,CAAC,EAAD,CAApB,EACA;IAGA;;IACA,MAAMS,QAAQ,GAAGT,GAAG,CAAC,CAAC,SAAD,EAAW,IAAX,EAAiB,WAAjB,EAA6B,cAA7B,EAA6C,eAA7C,EAA8D,MAA9D,EAAsE,OAAtE,EAA8E,aAA9E,EAA4F,cAA5F,EAA2G,UAA3G,CAAD,CAApB;IACA,MAAMU,MAAM,GAAGJ,KAAK,CAACK,aAArB;IACA,MAAMC,aAAa,GAAGZ,GAAG,CAAC;MACtBa,OAAO,EAAE,EADa;MAEtBC,aAAa,EAAE,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,EAAY,EAAZ,CAFO;MAGtBC,IAAI,EAAE,QAHgB;MAItBC,cAAc,EAAE;QAAEC,OAAO,EAAE;MAAX,CAJM;MAKtBC,QAAQ,EAAE,EALY;MAMtBC,UAAU,EAAE;QAAEC,GAAG,EAAE,QAAP;QAAiBC,KAAK,EAAE;MAAxB,CANU;MAOtBC,KAAK,EAAE;QACHC,KAAK,EAAE,mCADJ;QAEHC,MAAM,EAAE,EAFL;QAGHC,iBAAiB,EAAE,WAHhB;QAIHC,KAAK,EAAE;MAJJ,CAPe;MAatBR,QAAQ,EAAE,CAAC,IAAD,EAAO,UAAP,EAAmB,MAAnB,EAA2B,cAA3B,EAA2C,cAA3C,EAA0D,cAA1D,CAbY;MActBS,QAAQ,EAAE;QACNC,IAAI,EAAE,gBADA;QAENC,EAAE,EAAE,eAFE;QAGNC,IAAI,EAAE;MAHA,CAdY;MAmBtBC,gBAAgB,EAAE;IAnBI,CAAD,CAAzB;IAsBAhC,SAAS,CAAC,MAAM;MACZiC,SAAS;IACZ,CAFQ,CAAT;;IAIA,MAAMA,SAAS,GAAG,YAAa;MAC3B1B,KAAK,CAACK,aAAN,GAAsB,EAAtB;;MAEA,MAAMsB,WAAW,GAAG,MAAK;QACrB,IAAIC,IAAI,GAAGC,IAAI,CAACC,SAAL,CAAe;UAC1B,UAAU7B,UAAU,CAAC8B,QAAX,EAAqBC;QADL,CAAf,CAAX;QAIA,IAAIC,MAAM,GAAG;UACbC,MAAM,EAAE,MADK;UAEbC,aAAa,EAAEC,QAFF;UAGbC,GAAG,EAAErC,KAAK,CAACsC,YAAN,GAAmB,cAHX;UAIbC,OAAO,EAAE;YACL,gBAAgB;UADX,CAJI;UAObX,IAAI,EAAGA;QAPM,CAAb;QAUAhC,KAAK,CAAC4C,OAAN,CAAcP,MAAd,EACCQ,IADD,CACOC,QAAD,IAAc;UAChBA,QAAQ,CAACd,IAAT,CAAce,GAAd,CAAkBC,CAAC,IAAG;YACtB,MAAMC,KAAK,GAAE;cACTC,EAAE,EAAEF,CAAC,CAACG,EADG;cAETC,SAAS,EAAEJ,CAAC,CAACK,SAFJ;cAGTC,YAAY,EAAEN,CAAC,CAACO,YAHP;cAITC,aAAa,EAAER,CAAC,CAACS,aAJR;cAKTC,SAAS,EAAEV,CAAC,CAACW,SALJ;cAMTC,IAAI,EAAEZ,CAAC,CAACa,IANC;cAOTC,IAAI,EAAEd,CAAC,CAACe,IAPC;cAQTC,QAAQ,EAAEhB,CAAC,CAACiB,QARH;cASTC,KAAK,EAAElB,CAAC,CAACmB,KATA;cAUTC,WAAW,EAAEpB,CAAC,CAACqB,WAVN;cAWTC,YAAY,EAAEtB,CAAC,CAACuB;YAXP,CAAb;YAaJnE,KAAK,CAACK,aAAN,CAAoB+D,IAApB,CAAyBvB,KAAzB;UACC,CAfG;QAgBH,CAlBD,EAmBCwB,KAnBD,CAmBQC,KAAD,IAAW;UAClBC,OAAO,CAACC,GAAR,CAAYF,KAAZ;QACC,CArBD;MAuBH,CAtCD;;MAyCDtE,KAAK,CAACyE,cAAN,GAAuB,EAAvB;;MAEA,MAAMC,aAAa,GAAG,MAAK;QAC1B,IAAI9C,IAAI,GAAGC,IAAI,CAACC,SAAL,CAAe;UACtB,UAAU7B,UAAU,CAAC8B,QAAX,EAAqBC;QADT,CAAf,CAAX;QAII,IAAIC,MAAM,GAAG;UACbC,MAAM,EAAE,MADK;UAEbC,aAAa,EAAEC,QAFF;UAGbC,GAAG,EAAErC,KAAK,CAACsC,YAAN,GAAmB,gBAHX;UAIbC,OAAO,EAAE;YACL,gBAAgB;UADX,CAJI;UAObX,IAAI,EAAGA;QAPM,CAAb;QAUAhC,KAAK,CAAC4C,OAAN,CAAcP,MAAd,EACCQ,IADD,CACOC,QAAD,IAAc;UACpBA,QAAQ,CAACd,IAAT,CAAce,GAAd,CAAkBC,CAAC,IAAG;YACtB,MAAMC,KAAK,GAAE;cACbC,EAAE,EAAEF,CAAC,CAACG,EADO;cAEbO,SAAS,EAAEV,CAAC,CAACW;YAFA,CAAb;YAILvD,KAAK,CAACyE,cAAN,CAAqBL,IAArB,CAA0BvB,KAA1B;UACC,CANI;QAOC,CATD,EAUCwB,KAVD,CAUQC,KAAD,IAAW;UAClBC,OAAO,CAACC,GAAR,CAAYF,KAAZ;QACC,CAZD;MAeJ,CA9BD;;MAgCAI,aAAa;MACb/C,WAAW;MAIV3B,KAAK,CAAC2E,cAAN,GAAuB,EAAvB;IAEH,CArFD,EAsFA;;;IACA,MAAMC,SAAS,GAAKC,KAAD,IAAW;MAE1B7E,KAAK,CAAC8E,YAAN,GAAqB,IAArB;MACA9E,KAAK,CAAC+E,uBAAN,GAAgCF,KAAhC,CAH0B,CAK1B;;MACAN,OAAO,CAACC,GAAR,CAAYK,KAAZ;MACA7E,KAAK,CAAC2E,cAAN,GAAwB,EAAxB;IACH,CARD;;IAUA,SAASK,cAAT,CAAyBC,KAAzB,EAAgC;MAC5BjF,KAAK,CAACkF,QAAN,GAAiB,IAAjB;MACAX,OAAO,CAACC,GAAR,CAAYS,KAAZ;MAEAjF,KAAK,CAACmF,eAAN,CAAsBrC,EAAtB,GAA2BmC,KAAK,CAACnC,EAAjC,EACA9C,KAAK,CAACmF,eAAN,CAAsBnC,SAAtB,GAAkCiC,KAAK,CAAC/B,YADxC,EAEAlD,KAAK,CAACmF,eAAN,CAAsB/B,aAAtB,GAAsC6B,KAAK,CAAC7B,aAF5C,EAGApD,KAAK,CAACmF,eAAN,CAAsB7B,SAAtB,GAAkC2B,KAAK,CAAC3B,SAHxC,EAIAtD,KAAK,CAACmF,eAAN,CAAsB3B,IAAtB,GAA6ByB,KAAK,CAACzB,IAJnC,EAKAxD,KAAK,CAACmF,eAAN,CAAsBzB,IAAtB,GAA6BuB,KAAK,CAACvB,IALnC,EAMA1D,KAAK,CAACmF,eAAN,CAAsBvB,QAAtB,GAAiCqB,KAAK,CAACrB,QANvC,EAOA5D,KAAK,CAACmF,eAAN,CAAsBrB,KAAtB,GAA8BmB,KAAK,CAACnB,KAPpC,EAQA9D,KAAK,CAACmF,eAAN,CAAsBnB,WAAtB,GAAoCiB,KAAK,CAACjB,WAR1C,EASAhE,KAAK,CAACmF,eAAN,CAAsBjB,YAAtB,GAAqCe,KAAK,CAACf,YAT3C;IAUH;;IAGD,SAASkB,QAAT,CAAkBrC,EAAlB,EAAqB;MACjBwB,OAAO,CAACC,GAAR,CAAY,uBAAqBzB,EAAjC;MACAwB,OAAO,CAACC,GAAR,CAAY,kBAAiBxE,KAAK,CAACmF,eAAN,CAAsBE,YAAnD;MAEJ,IAAIzD,IAAI,GACRC,IAAI,CAACC,SAAL,CAAiB;QAAG,UAAU7B,UAAU,CAAC8B,QAAX,EAAqBC,MAAlC;QACG,MAAMe,EADT;QAEG,aAAe/C,KAAK,CAACmF,eAAN,CAAsBnC,SAFxC;QAGG,iBAAiBhD,KAAK,CAACmF,eAAN,CAAsB/B,aAH1C;QAIG,aAAapD,KAAK,CAACmF,eAAN,CAAsB7B,SAJtC;QAKG,QAAQtD,KAAK,CAACmF,eAAN,CAAsB3B,IALjC;QAMG,QAAQxD,KAAK,CAACmF,eAAN,CAAsBzB,IANjC;QAOG,YAAY1D,KAAK,CAACmF,eAAN,CAAsBvB,QAPrC;QAQG,SAAS5D,KAAK,CAACmF,eAAN,CAAsBrB,KARlC;QASG,eAAe9D,KAAK,CAACmF,eAAN,CAAsBnB,WATxC;QAUG,gBAAgBhE,KAAK,CAACmF,eAAN,CAAsBjB;MAVzC,CAAjB,CADA;MAeA,IAAIjC,MAAM,GAAG;QACTC,MAAM,EAAE,KADC;QAETC,aAAa,EAAEC,QAFN;QAGTC,GAAG,EAAErC,KAAK,CAACsC,YAAN,GAAmB,WAHf;QAITC,OAAO,EAAE;UACL,gBAAgB;QADX,CAJA;QAOTX,IAAI,EAAGA;MAPE,CAAb;MAUIhC,KAAK,CAACqC,MAAD,CAAL,CACCQ,IADD,CACM,UAAUC,QAAV,EAAoB;QAC1B6B,OAAO,CAACC,GAAR,CAAY3C,IAAI,CAACC,SAAL,CAAeY,QAAQ,CAACd,IAAxB,CAAZ;QACAF,SAAS;MACR,CAJD,EAKC2C,KALD,CAKO,UAAUC,KAAV,EAAiB;QACxBC,OAAO,CAACC,GAAR,CAAYF,KAAZ;MACC,CAPD;IASN;;IAED,SAASgB,UAAT,GAAqB;MAClBf,OAAO,CAACC,GAAR,CAAY,uBAAZ;;MACA,IAAI5E,KAAK,GAAG2F,OAAO,CAAC,OAAD,CAAnB;;MACAhB,OAAO,CAACC,GAAR,CAAYxE,KAAK,CAACmF,eAAN,CAAsBK,QAAlC;MACJ,IAAI5D,IAAI,GAAGC,IAAI,CAACC,SAAL,CACC;QACI,UAAU7B,UAAU,CAAC8B,QAAX,EAAqBC,MADnC;QAEA,aAAehC,KAAK,CAACmF,eAAN,CAAsBnC,SAFrC;QAGA,gBAAkBhD,KAAK,CAACmF,eAAN,CAAsBjC,YAHxC;QAIA,iBAAiBlD,KAAK,CAACmF,eAAN,CAAsB/B,aAJvC;QAKA,aAAoBpD,KAAK,CAACmF,eAAN,CAAsB7B,SAL1C;QAMA,QAAQtD,KAAK,CAACmF,eAAN,CAAsB3B,IAN9B;QAOA,QAAQxD,KAAK,CAACmF,eAAN,CAAsBzB,IAP9B;QAQA,YAAY1D,KAAK,CAACmF,eAAN,CAAsBvB,QARlC;QASA,SAAS5D,KAAK,CAACmF,eAAN,CAAsBrB,KAT/B;QAUA,eAAe9D,KAAK,CAACmF,eAAN,CAAsBnB,WAVrC;QAWA,gBAAgBhE,KAAK,CAACmF,eAAN,CAAsBjB;MAXtC,CADD,CAAX;MAgBA,IAAIjC,MAAM,GAAG;QACXC,MAAM,EAAE,MADG;QAEbC,aAAa,EAAEC,QAFF;QAGXC,GAAG,EAAErC,KAAK,CAACsC,YAAN,GAAmB,WAHb;QAIXC,OAAO,EAAE;UACP,gBAAgB;QADT,CAJE;QAOXX,IAAI,EAAGA;MAPI,CAAb;MAUAhC,KAAK,CAACqC,MAAD,CAAL,CACCQ,IADD,CACM,UAAUC,QAAV,EAAoB;QACxB6B,OAAO,CAACC,GAAR,CAAY3C,IAAI,CAACC,SAAL,CAAeY,QAAQ,CAACd,IAAxB,CAAZ;QACAF,SAAS;MACV,CAJD,EAKC2C,KALD,CAKO,UAAUC,KAAV,EAAiB;QACtBC,OAAO,CAACC,GAAR,CAAYF,KAAZ;MACD,CAPD;IASE;;IAED,SAASmB,SAAT,CAAoB1C,EAApB,EAAwB;MACrBwB,OAAO,CAACC,GAAR,CAAY,kBAAkBzB,EAA9B;;MACA,IAAIA,EAAE,GAAG,CAAT,EAAY;QACRqC,QAAQ,CAACrC,EAAD,CAAR;MACH,CAFD,MAEK;QACDuC,UAAU;MACb;;MACDtF,KAAK,CAACkF,QAAN,GAAiB,KAAjB;MACAlF,KAAK,CAACmF,eAAN,CAAsBrC,EAAtB,GAAyB,CAAzB;IAIF;;IAED,SAAS4C,UAAT,CAAoBT,KAApB,EAA0B;MACvBjF,KAAK,CAACkF,QAAN,GAAiB,KAAjB;MACAlF,KAAK,CAACmF,eAAN,CAAsBrC,EAAtB,GAAyB,CAAzB;MAEA,IAAIlB,IAAI,GAAK;QAAC,MAAOqD,KAAK,CAACnC;MAAd,CAAb;MAEY,IAAIb,MAAM,GAAG;QACbC,MAAM,EAAE,QADK;QAEbC,aAAa,EAAEC,QAFF;QAGbC,GAAG,EAAErC,KAAK,CAACsC,YAAN,GAAmB,WAHX;QAIbC,OAAO,EAAE;UACL,gBAAgB;QADX,CAJI;QAObX,IAAI,EAAGA;MAPM,CAAb;MAUAhC,KAAK,CAACqC,MAAD,CAAL,CACCQ,IADD,CACM,UAAUC,QAAV,EAAoB;QAC1B6B,OAAO,CAACC,GAAR,CAAY3C,IAAI,CAACC,SAAL,CAAeY,QAAQ,CAACd,IAAxB,CAAZ;QACAF,SAAS;MACR,CAJD,EAKC2C,KALD,CAKO,UAAUC,KAAV,EAAiB;QACxBC,OAAO,CAACC,GAAR,CAAYF,KAAZ;MACC,CAPD;IASd;;IAED,SAASqB,aAAT,GAA0B;MACvB3F,KAAK,CAACK,aAAN;MACJ,OAAO,IAAP;IACE;;IAID,SAASuF,YAAT,GAAwB;MACrB,IAAI5F,KAAK,CAACK,aAAV,EAAwB;QACpB,IAAIwF,YAAY,GAAG7F,KAAK,CAACK,aAAN,CAAoBsC,GAApB,CAAwBmD,CAAC,IAAG;UACvC,OAAQA,CAAC,CAAC9B,WAAF,GAAgB8B,CAAC,CAAC5B,YAA1B;QACD,CAFY,CAAnB;QAKN,IAAI6B,SAAS,GAAG,CAAhB;;QACA,KAAI,IAAIC,CAAR,IAAaH,YAAb,EAA2B;UAClBE,SAAS,IAAIF,YAAY,CAACG,CAAD,CAAzB;QACN;;QAEK,OAAOC,eAAe,CAACF,SAAD,EAAW,CAAX,CAAtB;MACL;IAEJ;;IAID,SAASG,qBAAT,CAA+BjD,SAA/B,EAA0C;MACtC,IAAIjD,KAAK,CAACK,aAAV,EAAwB;QAC5B,IAAI8F,KAAK,GAAGnG,KAAK,CAACK,aAAlB;QACQ,IAAIwF,YAAY,GAAG7F,KAAK,CAACK,aAAN,CAAoBa,MAApB,CAA2BkF,CAAC,IAAIA,CAAC,CAACpD,SAAF,IAAaC,SAA7C,EAAwDN,GAAxD,CAA4DmD,CAAC,IAAG;UAC3E,OAAQA,CAAC,CAAC9B,WAAF,GAAgB8B,CAAC,CAAC5B,YAA1B;QACD,CAFY,CAAnB;QAIN,IAAI6B,SAAS,GAAG,CAAhB;;QACA,KAAI,IAAIC,CAAR,IAAaH,YAAb,EAA2B;UAClBE,SAAS,IAAIF,YAAY,CAACG,CAAD,CAAzB;QACN;;QAEK,OAAOC,eAAe,CAACF,SAAD,EAAW,CAAX,CAAtB;MACL;IACJ;;IAED,SAASE,eAAT,CAAyBI,IAAzB,EAA+B;MACtB,IAAIC,KAAK,GAAGD,IAAZ;;MACA,IAAI,CAAC,CAACC,KAAF,IAAWA,KAAK,CAACC,QAAN,GAAiBC,QAAjB,CAA0B,GAA1B,CAAf,EAA+C;QAC7CF,KAAK,GAAGA,KAAK,CAACC,QAAN,GAAiBE,OAAjB,CAAyB,GAAzB,EAA8B,GAA9B,CAAR;MACD;;MACD,OAAOC,UAAU,CAACJ,KAAD,CAAV,CACJK,OADI,CACI,CADJ,EAEJF,OAFI,CAEI,GAFJ,EAES,GAFT,EAGJA,OAHI,CAGI,qBAHJ,EAG2B,KAH3B,CAAP;IAIJ","names":["indexStore","useUserStore","onMounted","ref","computed","axios","useMeta","ItensDetalhe","title","store","storeLogin","code_arr","columns1","items1","itensCadastro","table_option1","perPage","perPageValues","skin","columnsClasses","actions","sortable","pagination","nav","chunk","texts","count","filter","filterPlaceholder","limit","sortIcon","base","up","down","resizableColumns","bind_data","getProdutos","data","JSON","stringify","empresas","schema","config","method","maxBodyLength","Infinity","url","baseApiHTTPS","headers","request","then","response","map","x","itens","ID","id","CATEGORIA","categoria","ID_CATEGORIA","id_categoria","CODIGO_BARRAS","codigo_barras","DESCRICAO","descricao","FOTO","foto","NOME","nome","SITUACAO","situacao","VALOR","valor","VALOR_CUSTO","valor_custo","QTDE_ESTOQUE","qtde_estoque","push","catch","error","console","log","itensCategoria","getCategorias","itensHistorico","view_row1","item1","itensDetalhe","ItensSelecionadoDemanda","selectItemEdit","props","editando","cadastroProduto","editItem","NOMENCLATURA","createItem","require","AMBIENTE","confirmar","deleteItem","totalEstoque1","totalEstoque","somarProduto","p","totalProd","i","formataDinheiro","totalEstoqueCategoria","dados","f","item","venda","toString","includes","replace","parseFloat","toFixed"],"sources":["/home/renato/projetos/pdvsmart/src/views/itens/Itens.vue"],"sourcesContent":["<template>\n\n<div style=\"margin-top: 0px;\">\n    <div v-if=\"store.itensDetalhe\">\n        <ItensDetalhe />\n    </div> \n     <div v-if=\"!store.itensDetalhe\" class=\"layout-px-spacing\" style=\"margin-top: 0px;\">\n\n        <div> \n    </div>\n    <div   v-if=\"!store.editando\" style=\"display: flex;\n                flex-wrap: wrap; \n                        margin: 15px 0px 15px 0px;\n                    \">\n\n         <div class=\"card\" style=\"padding: 10px; width: 250px;height: 120px;border-radius: 10px;\n                                    align-items: center; margin: 0px 20px 15px 0px;\">\n            <span style=\"font-size: 30px; color: black;\">\n                Estoque Atual\n            </span> \n            <div style=\"font-size: 30px; color: forestgreen\">\n                  {{ totalEstoque() }}\n            </div>\n         </div>\n \n  </div>\n \n<div  v-if=\"!store.editando\"   >\n \n    <div v-for=\"c,index in store.itensCategoria\" :key=\"index\"  style=\"display: inline-flex;\">\n        <div class=\"card\" style=\"padding: 5px; width: 120px;height: 80px;border-radius: 10px;\n                                    align-items: center; margin: 0px 20px 15px 0px; \">\n            <span style=\"font-size:20px; color: black;\">\n                {{ c.DESCRICAO }}\n            </span> \n            <div style=\"font-size: 25px; color: forestgreen\">\n                  {{ totalEstoqueCategoria(c.DESCRICAO) }}\n            </div>\n         </div>\n    </div>\n    \n       \n       \n\n</div>\n   \n\n \n        <div v-if=\"store.editando\">\n        \n            <div class=\"row layout-top-spacing\"\n                           > \n                     \n          <div class=\"col-xl-10 col-lg-6 col-md-6 col-sm-10 col-10\" style=\"margin-bottom: 24px\">\n                <div class=\"statbox panel box box-shadow\">\n                    <div class=\"panel-heading\">\n                        <div class=\"row\">\n                            <div class=\"col-xl-12 col-md-12 col-sm-12 col-12\">\n                                <h4>Cadastro de Itens</h4>\n                            </div>\n                        </div>   \n                    </div>\n                    <div class=\"panel-body\">\n                        <div > \n                        \n                            <div class=\"row\">\n                                <div class=\"form-group col-md-2\">\n                                    <label class=\"col-form-label pt-0\" for=\"CATEGORIA\">CATEGORIA</label>\n                                    <div>\n                                        <select class=\"form-control\" style=\"height: 44px; width: 130px;\"\n                                        v-model=\"store.cadastroProduto.CATEGORIA\"                                      \n                                        \n                                        > \n                                       \n                                            <option v-for=\"c, indexC in store.itensCategoria\" :key=\"indexC\"\n                                            :value=\"c.ID\"\n                                            >\n                                                {{c.DESCRICAO}}\n                                            </option>   \n                                        \n                                                 \n                                        </select>\n                                    </div>\n                                </div>\n                                <div class=\"form-group col-md-2\">\n                                    <label class=\"col-form-label pt-0\" for=\"CODIGO_BARRAS\">CODIGO_BARRAS</label>\n                                    <div>\n                                        <input  v-model=\"store.cadastroProduto.CODIGO_BARRAS\" type=\"text\" id=\"CODIGO_BARRAS\" class=\"form-control\" placeholder=\"CODIGO_BARRAS\" />\n                                    </div>\n                                </div>\n                                <div class=\"form-group col-md-8\">\n                                    <label class=\"col-form-label pt-0\" for=\"NOME\">NOME</label>\n                                    <div>\n                                        <input v-model=\"store.cadastroProduto.NOME\"  type=\"text\" id=\"NOME\" class=\"form-control\" placeholder=\"NOME\" />\n                                    </div>\n                                </div>\n                            </div>\n                            <div class=\"row\">\n                                <div class=\"form-group col-md-12\">\n                                    <label class=\"col-form-label pt-0\" for=\"FOTO\">FOTO</label>\n                                    <div>\n                                        <input  v-model=\"store.cadastroProduto.FOTO\" type=\"text\" id=\"FOTO\" class=\"form-control\" placeholder=\"FOTO\" />\n                                    </div>\n                                </div>                           \n                            </div>\n                            <div class=\"row\">\n                                <div class=\"form-group col-md-4\">\n                                    <label class=\"col-form-label pt-0\" for=\"NOME\">DESCRICAO</label>\n                                    <div>\n                                        <input v-model=\"store.cadastroProduto.DESCRICAO\"  type=\"text\" id=\"DESCRICAO\" class=\"form-control\" placeholder=\"DESCRICAO\" />\n                                    </div>\n                                </div>\n                                <div class=\"form-group col-md-2\">\n                                    <label class=\"col-form-label pt-0\" for=\"password\">SITUACAO</label>\n                                    <div>\n                                        <select class=\"form-control\"   v-model=\"store.cadastroProduto.SITUACAO\">\n                                            <option disabled value=\"\">Selecione</option>\n                                            <option>ATIVADO</option>\n                                            <option>DESATIVADO</option>                                            \n                                        </select>\n                                    </div>\n                                </div>\n                              \n                                <div class=\"form-group col-md-2\">\n                                    <label class=\"col-form-label pt-0\" for=\"password\">CUSTO</label>\n                                    <div>\n                                        <input v-model=\"store.cadastroProduto.VALOR_CUSTO\"  type=\"text\" id=\"VALOR_CUSTO\" class=\"form-control\" placeholder=\"VALOR_CUSTO\" />\n                                    </div>\n                                </div> \n                                <div class=\"form-group col-md-2\">\n                                    <label class=\"col-form-label pt-0\" for=\"password\">PRECO_VENDA</label>\n                                    <div>\n                                        <input v-model=\"store.cadastroProduto.VALOR\"  type=\"text\" id=\"VALOR\" class=\"form-control\" placeholder=\"VALOR\" />\n                                    </div>\n                                </div>\n                                <div class=\"form-group col-md-2\">\n                                    <label class=\"col-form-label pt-0\" for=\"password\">QTDE_ESTOQUE</label>\n                                    <div>\n                                        <input v-model=\"store.cadastroProduto.QTDE_ESTOQUE\"  type=\"number\" id=\"QTDE_ESTOQUE\" class=\"form-control\" placeholder=\"QTDE_ESTOQUE\" />\n                                    </div>\n                                </div> \n                            </div>\n                          \n                   \n\n                        \n\n                            <button @click=\"confirmar(store.cadastroProduto.ID)\" type=\"\" class=\"btn btn-primary mt-3\">CONFIRMAR</button>\n                            <button style=\"margin-left: 10px;\" @click=\"store.editando = false \" type=\"\" class=\"btn btn-danger mt-3\">CANCELAR</button>\n                      \n                        </div>\n                    </div>\n                </div>\n            </div>\n\n             \n        </div>\n        </div>\n \n<div\n        v-if=\"!store.editando\"\n         @click=\"store.editando = true; \n                      store.cadastroProduto = [];\n                      store.cadastroProduto.ID=0\">\n\n    <svg version=\"1.1\" id=\"Capa_1\" width=\"30px\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" \n        viewBox=\"0 0 50 50\" xml:space=\"preserve\">\n        <circle style=\"fill:#43B05C;\" cx=\"25\" cy=\"25\" r=\"25\"/>\n        <line style=\"fill:none;stroke:#FFFFFF;stroke-width:2;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;\" x1=\"25\" y1=\"13\" x2=\"25\" y2=\"38\"/>\n        <line style=\"fill:none;stroke:#FFFFFF;stroke-width:2;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;\" x1=\"37.5\" y1=\"25\" x2=\"12.5\" y2=\"25\"/>\n    </svg>\n</div>\n        \n        <div v-if=\"!store.editando\">\n            <div  >\n              \n                <div class=\"panel br-0 p-0 mt-0\">\n                    <div class=\"custom-table\">\n                        <v-client-table :data=\"store.itensCadastro\" :columns=\"columns1\" :options=\"table_option1\">\n                        \n                            <template #progress=\"props\">\n                                <div class=\"progress\">\n                                    <div\n                                        role=\"progressbar\"\n                                        aria-valuemin=\"0\"\n                                        :aria-valuemax=\"props.row.progress.count\"\n                                        aria-valuenow=\"100\"\n                                        class=\"progress-bar\"\n                                        :class=\"'bg-' + props.row.progress.class\"\n                                        :style=\"{ width: props.row.progress.count + '%' }\"\n                                    ></div>\n                                </div>\n                            </template>\n                            <template #salary=\"props\"> ${{ props.row.salary }} </template>\n                            <template #actions=\"props\">\n                                <div class=\"me-2 custom-dropdown dropdown btn-group\">\n                                    <a class=\"btn dropdown-toggle btn-icon-only\" href=\"#\" role=\"button\" id=\"pendingTask\" data-bs-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                                        <svg\n                                            xmlns=\"http://www.w3.org/2000/svg\"\n                                            style=\"width: 24px; height: 24px\"\n                                            width=\"24\"\n                                            height=\"24\"\n                                            viewBox=\"0 0 24 24\"\n                                            fill=\"none\"\n                                            stroke=\"currentColor\"\n                                            stroke-width=\"2\"\n                                            stroke-linecap=\"round\"\n                                            stroke-linejoin=\"round\"\n                                            class=\"feather feather-more-horizontal\"\n                                        >\n                                            <circle cx=\"12\" cy=\"12\" r=\"1\"></circle>\n                                            <circle cx=\"19\" cy=\"12\" r=\"1\"></circle>\n                                            <circle cx=\"5\" cy=\"12\" r=\"1\"></circle>\n                                        </svg>\n                                    </a>\n\n                                    <ul class=\"dropdown-menu dropdown-menu-end\">\n                                        <li>\n                                            <a href=\"javascript:void(0);\" class=\"dropdown-item\" @click=\"view_row1(props.row)\"> view </a>\n                                        </li>\n                                        <li @click=\"selectItemEdit(props.row)\">\n                                            <a href=\"javascript:void(0);\" class=\"dropdown-item\"> Edit </a>\n                                        </li>\n                                        <li @click=\"deleteItem(props.row)\">\n                                            <a href=\"javascript:void(0);\" class=\"dropdown-item\"> Delete </a>\n                                        </li>\n                                    </ul>\n                                </div>\n                            </template>\n                        </v-client-table>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    \n</div>\n\n\n\n   \n</template>\n\n<script setup>\n    import {indexStore, useUserStore} from '../../store/indexStore' \n    import { onMounted, ref, computed } from 'vue';\n    import axios from 'axios'\n    import { useMeta } from '@/composables/use-meta';\n    import ItensDetalhe from './ItensDetalhe.vue'\n    useMeta({ title: 'Multiple Tables' });\n    const store = indexStore(); \n    const storeLogin = useUserStore();\n    const code_arr = ref([]);\n    //table 1\n   \n\n    //table 2\n    const columns1 = ref(['actions','ID', 'CATEGORIA','ID_CATEGORIA', 'CODIGO_BARRAS', 'NOME' ,'VALOR','VALOR_CUSTO','QTDE_ESTOQUE','SITUACAO']);\n    const items1 = store.itensCadastro;\n    const table_option1 = ref({\n        perPage: 10,\n        perPageValues: [5, 10, 20, 50],\n        skin: 'table ',\n        columnsClasses: { actions: 'actions text-center' },\n        sortable: [],\n        pagination: { nav: 'scroll', chunk: 5 },\n        texts: {\n            count: 'Showing {from} to {to} of {count}',\n            filter: '',\n            filterPlaceholder: 'Search...',\n            limit: 'Results:',\n        },\n        sortable: ['ID', 'AMBIENTE', 'TIPO', 'NOMENCLATURA', 'VLR_UNITARIO','QTDE_ESTOQUE' ],\n        sortIcon: {\n            base: 'sort-icon-none',\n            up: 'sort-icon-asc',\n            down: 'sort-icon-desc',\n        },\n        resizableColumns: false,\n    });\n\n    onMounted(() => {\n        bind_data();\n    });\n\n    const bind_data = async  () => {\n        store.itensCadastro = []\n\n        const getProdutos = ()=> {\n            let data = JSON.stringify({\n            \"SCHEMA\": storeLogin.empresas?.schema \n            });\n\n            let config = {\n            method: 'post',\n            maxBodyLength: Infinity,\n            url: store.baseApiHTTPS+'/getprodutos',\n            headers: { \n                'Content-Type': 'application/json'\n            },\n            data : data\n            };\n\n            axios.request(config)\n            .then((response) => { \n                response.data.map(x=> {\n                const itens ={\n                    ID: x.id,\n                    CATEGORIA: x.categoria,\n                    ID_CATEGORIA: x.id_categoria,\n                    CODIGO_BARRAS: x.codigo_barras,\n                    DESCRICAO: x.descricao,\n                    FOTO: x.foto,\n                    NOME: x.nome,\n                    SITUACAO: x.situacao,\n                    VALOR: x.valor,\n                    VALOR_CUSTO: x.valor_custo,\n                    QTDE_ESTOQUE: x.qtde_estoque\n            }\n            store.itensCadastro.push(itens)\n            })\n            })\n            .catch((error) => {\n            console.log(error);\n            });\n\n        }\n       \n\n       store.itensCategoria = [];\n\n       const getCategorias = ()=> {\n        let data = JSON.stringify({\n            \"SCHEMA\": storeLogin.empresas?.schema \n            });\n\n            let config = {\n            method: 'post',\n            maxBodyLength: Infinity,\n            url: store.baseApiHTTPS+'/getCategorias',\n            headers: { \n                'Content-Type': 'application/json'\n            },\n            data : data\n            };\n\n            axios.request(config)\n            .then((response) => {          \n            response.data.map(x=> {\n            const itens ={\n            ID: x.id, \n            DESCRICAO: x.descricao\n          }\n       store.itensCategoria.push(itens)\n       })\n            })\n            .catch((error) => {\n            console.log(error);\n            });\n\n     \n       }\n\n       getCategorias()\n       getProdutos()\n      \n\n\n        store.itensHistorico = []\n\n    }\n    //table 2\n    const view_row1 =  (item1) => {       \n   \n        store.itensDetalhe = true;\n        store.ItensSelecionadoDemanda = item1 ;\n         \n        //table 2\n        console.log(item1)\n        store.itensHistorico =  []\n    };\n\n    function selectItemEdit (props) {\n        store.editando = true\n        console.log(props)\n        \n        store.cadastroProduto.ID = props.ID,\n        store.cadastroProduto.CATEGORIA = props.ID_CATEGORIA,\n        store.cadastroProduto.CODIGO_BARRAS = props.CODIGO_BARRAS, \n        store.cadastroProduto.DESCRICAO = props.DESCRICAO, \n        store.cadastroProduto.FOTO = props.FOTO, \n        store.cadastroProduto.NOME = props.NOME, \n        store.cadastroProduto.SITUACAO = props.SITUACAO, \n        store.cadastroProduto.VALOR = props.VALOR,\n        store.cadastroProduto.VALOR_CUSTO = props.VALOR_CUSTO,\n        store.cadastroProduto.QTDE_ESTOQUE = props.QTDE_ESTOQUE\n    }\n\n\n    function editItem(id){        \n        console.log('Editando Item ID: '+id)\n        console.log('NOMENCLATURA '+ store.cadastroProduto.NOMENCLATURA)\n        \n    var data = \n    JSON.stringify ( {  \"SCHEMA\": storeLogin.empresas?.schema ,\n                        \"ID\": id, \n                        \"CATEGORIA\":   store.cadastroProduto.CATEGORIA     , \n                        \"CODIGO_BARRAS\": store.cadastroProduto.CODIGO_BARRAS, \n                        \"DESCRICAO\": store.cadastroProduto.DESCRICAO, \n                        \"FOTO\": store.cadastroProduto.FOTO, \n                        \"NOME\": store.cadastroProduto.NOME, \n                        \"SITUACAO\": store.cadastroProduto.SITUACAO, \n                        \"VALOR\": store.cadastroProduto.VALOR, \n                        \"VALOR_CUSTO\": store.cadastroProduto.VALOR_CUSTO,\n                        \"QTDE_ESTOQUE\": store.cadastroProduto.QTDE_ESTOQUE\n                    } \n             )\n\n    var config = {\n        method: 'put',\n        maxBodyLength: Infinity,\n        url: store.baseApiHTTPS+'/produtos',\n        headers: { \n            'Content-Type': 'application/json'\n        },\n        data : data\n        };\n\n        axios(config)\n        .then(function (response) {\n        console.log(JSON.stringify(response.data));\n        bind_data()\n        })\n        .catch(function (error) {\n        console.log(error);\n        });\n\n }\n\n function createItem(){\n    console.log('Cadastrando Novo Item')\n    var axios = require('axios');\n    console.log(store.cadastroProduto.AMBIENTE)\nvar data = JSON.stringify( \n            {  \n                \"SCHEMA\": storeLogin.empresas?.schema ,\n            \"CATEGORIA\":   store.cadastroProduto.CATEGORIA     , \n            \"ID_CATEGORIA\":   store.cadastroProduto.ID_CATEGORIA     , \n            \"CODIGO_BARRAS\": store.cadastroProduto.CODIGO_BARRAS, \n            \"DESCRICAO\":        store.cadastroProduto.DESCRICAO, \n            \"FOTO\": store.cadastroProduto.FOTO, \n            \"NOME\": store.cadastroProduto.NOME, \n            \"SITUACAO\": store.cadastroProduto.SITUACAO, \n            \"VALOR\": store.cadastroProduto.VALOR, \n            \"VALOR_CUSTO\": store.cadastroProduto.VALOR_CUSTO,\n            \"QTDE_ESTOQUE\": store.cadastroProduto.QTDE_ESTOQUE\n            } \n );\n\nvar config = {\n  method: 'post',\nmaxBodyLength: Infinity,\n  url: store.baseApiHTTPS+'/produtos',\n  headers: { \n    'Content-Type': 'application/json'\n  },\n  data : data\n};\n\naxios(config)\n.then(function (response) {\n  console.log(JSON.stringify(response.data));\n  bind_data()\n})\n.catch(function (error) {\n  console.log(error);\n});\n\n }\n\n function confirmar (id) {\n    console.log('Valor do ID: ' + id)\n    if (id > 0) {\n        editItem(id)\n    }else{\n        createItem()\n    }\n    store.editando = false\n    store.cadastroProduto.ID=0\n    \n     \n    \n }\n\n function deleteItem(props){\n    store.editando = false\n    store.cadastroProduto.ID=0\n    \n    var data =   {\"ID\" : props.ID}  \n\n                var config = {\n                method: 'delete',\n                maxBodyLength: Infinity,\n                url: store.baseApiHTTPS+'/produtos',\n                headers: { \n                    'Content-Type': 'application/json'\n                },\n                data : data\n                };\n\n                axios(config)\n                .then(function (response) {\n                console.log(JSON.stringify(response.data));\n                bind_data()\n                })\n                .catch(function (error) {\n                console.log(error);\n                });\n\n }\n\n function totalEstoque1 () {\n    store.itensCadastro\nreturn 1000\n }\n\n\n  \n function totalEstoque() {\n    if (store.itensCadastro){\n        var somarProduto = store.itensCadastro.map(p =>{\n                return (p.VALOR_CUSTO * p.QTDE_ESTOQUE)\n              } )\n             \n\n  let totalProd = 0\n  for(let i in somarProduto) {\n           totalProd += somarProduto[i] \n    }\n    \n          return formataDinheiro(totalProd,2)\n    }\n\n}\n\n   \n\nfunction totalEstoqueCategoria(categoria) {\n    if (store.itensCadastro){\nvar dados = store.itensCadastro \n        var somarProduto = store.itensCadastro.filter(f => f.CATEGORIA==categoria).map(p =>{\n                return (p.VALOR_CUSTO * p.QTDE_ESTOQUE)\n              } )                \n\n  let totalProd = 0\n  for(let i in somarProduto) {\n           totalProd += somarProduto[i] \n    }\n    \n          return formataDinheiro(totalProd,2)\n    }\n}\n  \nfunction formataDinheiro(item) {\n         let venda = item;\n         if (!!venda && venda.toString().includes(\",\")) {\n           venda = venda.toString().replace(\",\", \".\");\n         }\n         return parseFloat(venda)\n           .toFixed(2)\n           .replace(\".\", \",\")\n           .replace(/(\\d)(?=(\\d{3})+\\,)/g, \"$1.\");\n    }\n\n \n</script>\n"]},"metadata":{},"sourceType":"module"}