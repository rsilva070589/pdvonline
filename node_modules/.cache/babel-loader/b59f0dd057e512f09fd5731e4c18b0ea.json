{"ast":null,"code":"import \"core-js/modules/es.array.includes.js\";\nimport { onMounted, ref } from 'vue';\nimport '@/assets/sass/apps/chat.scss';\nimport { useMeta } from '@/composables/use-meta';\nexport default {\n  __name: 'chat',\n\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n\n    useMeta({\n      title: 'Chat'\n    });\n    const is_show_user_menu = ref(false);\n    let contact_list = ref([]);\n    const filterd_contact_list = ref([]);\n    const selected_user = ref(null);\n    const login_user_id = ref(0); //system login user id\n\n    const search_user = ref('');\n    const text_message = ref('');\n    onMounted(() => {\n      bind_contact_list();\n    });\n\n    const bind_contact_list = () => {\n      contact_list.value = [{\n        user_id: 1,\n        name: 'Nia Hillyer',\n        path: 'profile-4.jpeg',\n        time: '2:09 PM',\n        preview: 'How do you do?',\n        messages: [{\n          from_user_id: login_user_id.value,\n          to_usr_id: 1,\n          text: 'Hi, I am back from vacation'\n        }, {\n          from_user_id: login_user_id.value,\n          to_usr_id: 1,\n          text: 'How are you?'\n        }, {\n          from_user_id: 1,\n          to_usr_id: login_user_id.value,\n          text: 'Welcom Back'\n        }, {\n          from_user_id: 1,\n          to_usr_id: login_user_id.value,\n          text: 'I am all well'\n        }, {\n          from_user_id: login_user_id.value,\n          to_usr_id: 1,\n          text: 'Coffee?'\n        }]\n      }, {\n        user_id: 2,\n        name: 'Sean Freeman',\n        path: 'profile-3.jpeg',\n        time: '2:09 PM',\n        preview: 'I was wondering...',\n        messages: [{\n          from_user_id: login_user_id.value,\n          to_usr_id: 2,\n          text: 'Hello'\n        }, {\n          from_user_id: login_user_id.value,\n          to_usr_id: 2,\n          text: \"It's me\"\n        }, {\n          from_user_id: login_user_id.value,\n          to_usr_id: 2,\n          text: 'I have a question regarding project.'\n        }]\n      }, {\n        user_id: 3,\n        name: 'Alma Clarke',\n        path: 'profile-11.jpeg',\n        time: '1:44 PM',\n        preview: 'I’ve forgotten how it felt before',\n        messages: [{\n          from_user_id: login_user_id.value,\n          to_usr_id: 3,\n          text: 'Hey Buddy.'\n        }, {\n          from_user_id: login_user_id.value,\n          to_usr_id: 3,\n          text: \"What's up\"\n        }, {\n          from_user_id: 3,\n          to_usr_id: login_user_id.value,\n          text: 'I am sick'\n        }, {\n          from_user_id: login_user_id.value,\n          to_usr_id: 3,\n          text: 'Not comming to office today.'\n        }]\n      }, {\n        user_id: 4,\n        name: 'Alan Green',\n        path: 'profile-23.jpeg',\n        time: '2:09 PM',\n        preview: 'But we’re probably gonna need a new carpet.',\n        messages: [{\n          from_user_id: login_user_id.value,\n          to_usr_id: 4,\n          text: 'Hi, collect your check'\n        }, {\n          from_user_id: 4,\n          to_usr_id: login_user_id.value,\n          text: 'Ok, I will be there in 10 mins'\n        }]\n      }, {\n        user_id: 5,\n        name: 'Shaun Park',\n        path: 'profile-7.jpeg',\n        time: '2:09 PM',\n        preview: 'It’s not that bad...',\n        messages: [{\n          from_user_id: login_user_id.value,\n          to_usr_id: 3,\n          text: 'Hi, I am back from vacation'\n        }, {\n          from_user_id: login_user_id.value,\n          to_usr_id: 3,\n          text: 'How are you?'\n        }, {\n          from_user_id: login_user_id.value,\n          to_usr_id: 5,\n          text: 'Welcom Back'\n        }, {\n          from_user_id: login_user_id.value,\n          to_usr_id: 5,\n          text: 'I am all well'\n        }, {\n          from_user_id: 5,\n          to_usr_id: login_user_id.value,\n          text: 'Coffee?'\n        }]\n      }, {\n        user_id: 6,\n        name: 'Roxanne',\n        path: 'profile-15.jpeg',\n        time: '2:09 PM',\n        preview: 'Wasup for the third time like is you bling bitch',\n        messages: [{\n          from_user_id: login_user_id.value,\n          to_usr_id: 6,\n          text: 'Hi'\n        }, {\n          from_user_id: login_user_id.value,\n          to_usr_id: 6,\n          text: 'Uploaded files to server.'\n        }]\n      }, {\n        user_id: 7,\n        name: 'Ernest Reeves',\n        path: 'profile-32.jpeg',\n        time: '2:09 PM',\n        preview: 'Wasup for the third time like is you bling bitch',\n        messages: []\n      }, {\n        user_id: 8,\n        name: 'Laurie Fox',\n        path: 'profile-33.jpeg',\n        time: '2:09 PM',\n        preview: 'Wasup for the third time like is you bling bitch',\n        messages: []\n      }, {\n        user_id: 9,\n        name: 'Xavier',\n        path: 'profile-21.jpeg',\n        time: '2:09 PM',\n        preview: 'Wasup for the third time like is you bling bitch',\n        messages: []\n      }, {\n        user_id: 10,\n        name: 'Susan Phillips',\n        path: 'profile-12.jpeg',\n        time: '2:09 PM',\n        preview: 'Wasup for the third time like is you bling bitch',\n        messages: []\n      }, {\n        user_id: 11,\n        name: 'Dale Butler',\n        path: 'profile-26.jpeg',\n        time: '2:09 PM',\n        preview: 'Wasup for the third time like is you bling bitch',\n        messages: []\n      }, {\n        user_id: 12,\n        name: 'Grace Roberts',\n        path: 'profile-20.jpeg',\n        time: '2:09 PM',\n        preview: 'Wasup for the third time like is you bling bitch',\n        messages: []\n      }];\n      search_users();\n    };\n\n    const select_user = user => {\n      selected_user.value = user;\n      scroll_to_bottom();\n      is_show_user_menu.value = false;\n    };\n\n    const search_users = () => {\n      filterd_contact_list.value = contact_list.value.filter(d => d.name.toLowerCase().includes(search_user.value));\n    };\n\n    const send_message = () => {\n      if (text_message.value.trim()) {\n        const user = contact_list.value.find(d => d.user_id == selected_user.value.user_id);\n        user.messages.push({\n          from_user_id: selected_user.value.user_id,\n          to_usr_id: login_user_id.value,\n          text: text_message.value\n        });\n        text_message.value = '';\n        scroll_to_bottom();\n      }\n    };\n\n    const scroll_to_bottom = () => {\n      setTimeout(() => {\n        const element = document.querySelector('.chat-conversation-box');\n        element.scrollTop = element.scrollHeight;\n        element.behavior = 'smooth';\n      });\n    };\n\n    const __returned__ = {\n      is_show_user_menu,\n\n      get contact_list() {\n        return contact_list;\n      },\n\n      set contact_list(v) {\n        contact_list = v;\n      },\n\n      filterd_contact_list,\n      selected_user,\n      login_user_id,\n      search_user,\n      text_message,\n      bind_contact_list,\n      select_user,\n      search_users,\n      send_message,\n      scroll_to_bottom,\n      onMounted,\n      ref,\n\n      get useMeta() {\n        return useMeta;\n      }\n\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n\n};","map":{"version":3,"mappings":"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","names":["onMounted","ref","useMeta","title","is_show_user_menu","contact_list","filterd_contact_list","selected_user","login_user_id","search_user","text_message","bind_contact_list","value","user_id","name","path","time","preview","messages","from_user_id","to_usr_id","text","search_users","select_user","user","scroll_to_bottom","filter","d","toLowerCase","includes","send_message","trim","find","push","setTimeout","element","document","querySelector","scrollTop","scrollHeight","behavior"],"sources":["/home/renato/projetos/pdvsmart/src/views/apps/chat.vue"],"sourcesContent":["<template>\n    <div class=\"layout-px-spacing\">\n        <teleport to=\"#breadcrumb\">\n            <ul class=\"navbar-nav flex-row\">\n                <li>\n                    <div class=\"page-header\">\n                        <nav class=\"breadcrumb-one\" aria-label=\"breadcrumb\">\n                            <ol class=\"breadcrumb\">\n                                <li class=\"breadcrumb-item\"><a href=\"javascript:;\">Apps</a></li>\n                                <li class=\"breadcrumb-item active\" aria-current=\"page\"><span>Chat</span></li>\n                            </ol>\n                        </nav>\n                    </div>\n                </li>\n            </ul>\n        </teleport>\n\n        <div class=\"chat-section layout-top-spacing\">\n            <div class=\"row\">\n                <div class=\"col-xl-12 col-lg-12 col-md-12\">\n                    <div class=\"chat-system\">\n                        <div class=\"hamburger\" @click=\"is_show_user_menu = !is_show_user_menu\">\n                            <svg\n                                xmlns=\"http://www.w3.org/2000/svg\"\n                                width=\"24\"\n                                height=\"24\"\n                                viewBox=\"0 0 24 24\"\n                                fill=\"none\"\n                                stroke=\"currentColor\"\n                                stroke-width=\"2\"\n                                stroke-linecap=\"round\"\n                                stroke-linejoin=\"round\"\n                                class=\"feather feather-menu mail-menu d-lg-none\"\n                            >\n                                <line x1=\"3\" y1=\"12\" x2=\"21\" y2=\"12\"></line>\n                                <line x1=\"3\" y1=\"6\" x2=\"21\" y2=\"6\"></line>\n                                <line x1=\"3\" y1=\"18\" x2=\"21\" y2=\"18\"></line>\n                            </svg>\n                        </div>\n                        <div class=\"user-list-box\" :class=\"{ 'user-list-box-show': is_show_user_menu }\">\n                            <div class=\"search\">\n                                <svg\n                                    xmlns=\"http://www.w3.org/2000/svg\"\n                                    width=\"24\"\n                                    height=\"24\"\n                                    viewBox=\"0 0 24 24\"\n                                    fill=\"none\"\n                                    stroke=\"currentColor\"\n                                    stroke-width=\"2\"\n                                    stroke-linecap=\"round\"\n                                    stroke-linejoin=\"round\"\n                                    class=\"feather feather-search\"\n                                >\n                                    <circle cx=\"11\" cy=\"11\" r=\"8\"></circle>\n                                    <line x1=\"21\" y1=\"21\" x2=\"16.65\" y2=\"16.65\"></line>\n                                </svg>\n                                <input type=\"text\" v-model.trim=\"search_user\" class=\"form-control\" @keyup=\"search_users()\" placeholder=\"Search\" />\n                            </div>\n                            <perfect-scrollbar class=\"people\" :options=\"{ wheelSpeed: 0.5, swipeEasing: !0, minScrollbarLength: 40, maxScrollbarLength: 300, suppressScrollX: true }\">\n                                <div\n                                    v-for=\"(person, index) in filterd_contact_list\"\n                                    class=\"person\"\n                                    :key=\"index\"\n                                    :class=\"{ active: selected_user && selected_user.user_id == person.user_id }\"\n                                    @click=\"select_user(person)\"\n                                >\n                                    <div class=\"user-info\">\n                                        <div class=\"f-head\">\n                                            <img :src=\"require(`@/assets/images/${person.path}`)\" alt=\"avatar\" />\n                                        </div>\n                                        <div class=\"f-body\">\n                                            <div class=\"meta-info\">\n                                                <span class=\"user-name\" :class=\"{ 'text-primary': selected_user && selected_user.user_id == person.user_id }\">{{ person.name }}</span>\n                                                <span class=\"user-meta-time\" :class=\"{ 'text-primary': selected_user && selected_user.user_id == person.user_id }\">{{ person.time }}</span>\n                                            </div>\n                                            <span class=\"preview\">{{ person.preview }}</span>\n                                        </div>\n                                    </div>\n                                </div>\n                            </perfect-scrollbar>\n                        </div>\n                        <div class=\"chat-box\" :class=\"{ active: selected_user }\">\n                            <div class=\"chat-not-selected\" :class=\"{ 'd-none': selected_user }\">\n                                <p>\n                                    <svg\n                                        xmlns=\"http://www.w3.org/2000/svg\"\n                                        width=\"24\"\n                                        height=\"24\"\n                                        viewBox=\"0 0 24 24\"\n                                        fill=\"none\"\n                                        stroke=\"currentColor\"\n                                        stroke-width=\"2\"\n                                        stroke-linecap=\"round\"\n                                        stroke-linejoin=\"round\"\n                                        class=\"feather feather-message-square\"\n                                    >\n                                        <path d=\"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z\"></path>\n                                    </svg>\n                                    Click User To Chat\n                                </p>\n                            </div>\n\n                            <div v-if=\"selected_user\" class=\"chat-box-inner h-100\">\n                                <div class=\"chat-meta-user chat-active\">\n                                    <div class=\"current-chat-user-name\">\n                                        <span>\n                                            <img :src=\"require(`@/assets/images/${selected_user.path}`)\" alt=\"dynamic-image\" />\n                                            <span class=\"name\">{{ selected_user.name }}</span>\n                                        </span>\n                                    </div>\n\n                                    <div class=\"chat-action-btn align-self-center\">\n                                        <svg\n                                            xmlns=\"http://www.w3.org/2000/svg\"\n                                            width=\"24\"\n                                            height=\"24\"\n                                            viewBox=\"0 0 24 24\"\n                                            fill=\"none\"\n                                            stroke=\"currentColor\"\n                                            stroke-width=\"2\"\n                                            stroke-linecap=\"round\"\n                                            stroke-linejoin=\"round\"\n                                            class=\"feather feather-phone phone-call-screen\"\n                                        >\n                                            <path\n                                                d=\"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z\"\n                                            ></path>\n                                        </svg>\n                                        <svg\n                                            xmlns=\"http://www.w3.org/2000/svg\"\n                                            width=\"24\"\n                                            height=\"24\"\n                                            viewBox=\"0 0 24 24\"\n                                            fill=\"none\"\n                                            stroke=\"currentColor\"\n                                            stroke-width=\"2\"\n                                            stroke-linecap=\"round\"\n                                            stroke-linejoin=\"round\"\n                                            class=\"feather feather-video video-call-screen\"\n                                        >\n                                            <polygon points=\"23 7 16 12 23 17 23 7\"></polygon>\n                                            <rect x=\"1\" y=\"5\" width=\"15\" height=\"14\" rx=\"2\" ry=\"2\"></rect>\n                                        </svg>\n\n                                        <div class=\"dropdown d-inline-block\">\n                                            <a href=\"javascript:;\" id=\"ddlSettings\" class=\"btn dropdown-toggle btn-icon-only\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\">\n                                                <svg\n                                                    xmlns=\"http://www.w3.org/2000/svg\"\n                                                    width=\"24\"\n                                                    height=\"24\"\n                                                    viewBox=\"0 0 24 24\"\n                                                    fill=\"none\"\n                                                    stroke=\"currentColor\"\n                                                    stroke-width=\"2\"\n                                                    stroke-linecap=\"round\"\n                                                    stroke-linejoin=\"round\"\n                                                    class=\"feather feather-more-vertical\"\n                                                >\n                                                    <circle cx=\"12\" cy=\"12\" r=\"1\"></circle>\n                                                    <circle cx=\"12\" cy=\"5\" r=\"1\"></circle>\n                                                    <circle cx=\"12\" cy=\"19\" r=\"1\"></circle>\n                                                </svg>\n                                            </a>\n                                            <ul class=\"dropdown-menu dropdown-menu-end\" aria-labelledby=\"ddlSettings\">\n                                                <li>\n                                                    <a href=\"javascript:;\" class=\"dropdown-item\">\n                                                        <svg\n                                                            xmlns=\"http://www.w3.org/2000/svg\"\n                                                            width=\"24\"\n                                                            height=\"24\"\n                                                            viewBox=\"0 0 24 24\"\n                                                            fill=\"none\"\n                                                            stroke=\"currentColor\"\n                                                            stroke-width=\"2\"\n                                                            stroke-linecap=\"round\"\n                                                            stroke-linejoin=\"round\"\n                                                            class=\"feather feather-settings\"\n                                                        >\n                                                            <circle cx=\"12\" cy=\"12\" r=\"3\"></circle>\n                                                            <path\n                                                                d=\"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z\"\n                                                            ></path>\n                                                        </svg>\n                                                        Settings</a\n                                                    >\n                                                </li>\n                                                <li>\n                                                    <a href=\"javascript:;\" class=\"dropdown-item\">\n                                                        <svg\n                                                            xmlns=\"http://www.w3.org/2000/svg\"\n                                                            width=\"24\"\n                                                            height=\"24\"\n                                                            viewBox=\"0 0 24 24\"\n                                                            fill=\"none\"\n                                                            stroke=\"currentColor\"\n                                                            stroke-width=\"2\"\n                                                            stroke-linecap=\"round\"\n                                                            stroke-linejoin=\"round\"\n                                                            class=\"feather feather-mail\"\n                                                        >\n                                                            <path d=\"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z\"></path>\n                                                            <polyline points=\"22,6 12,13 2,6\"></polyline>\n                                                        </svg>\n                                                        Mail</a\n                                                    >\n                                                </li>\n                                                <li>\n                                                    <a href=\"javascript:;\" class=\"dropdown-item\">\n                                                        <svg\n                                                            xmlns=\"http://www.w3.org/2000/svg\"\n                                                            width=\"24\"\n                                                            height=\"24\"\n                                                            viewBox=\"0 0 24 24\"\n                                                            fill=\"none\"\n                                                            stroke=\"currentColor\"\n                                                            stroke-width=\"2\"\n                                                            stroke-linecap=\"round\"\n                                                            stroke-linejoin=\"round\"\n                                                            class=\"feather feather-copy\"\n                                                        >\n                                                            <rect x=\"9\" y=\"9\" width=\"13\" height=\"13\" rx=\"2\" ry=\"2\"></rect>\n                                                            <path d=\"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1\"></path>\n                                                        </svg>\n                                                        Copy</a\n                                                    >\n                                                </li>\n                                                <li>\n                                                    <a href=\"javascript:;\" class=\"dropdown-item\">\n                                                        <svg\n                                                            xmlns=\"http://www.w3.org/2000/svg\"\n                                                            width=\"24\"\n                                                            height=\"24\"\n                                                            viewBox=\"0 0 24 24\"\n                                                            fill=\"none\"\n                                                            stroke=\"currentColor\"\n                                                            stroke-width=\"2\"\n                                                            stroke-linecap=\"round\"\n                                                            stroke-linejoin=\"round\"\n                                                            class=\"feather feather-trash-2\"\n                                                        >\n                                                            <polyline points=\"3 6 5 6 21 6\"></polyline>\n                                                            <path d=\"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2\"></path>\n                                                            <line x1=\"10\" y1=\"11\" x2=\"10\" y2=\"17\"></line>\n                                                            <line x1=\"14\" y1=\"11\" x2=\"14\" y2=\"17\"></line>\n                                                        </svg>\n                                                        Delete</a\n                                                    >\n                                                </li>\n                                                <li>\n                                                    <a href=\"javascript:;\" class=\"dropdown-item\">\n                                                        <svg\n                                                            xmlns=\"http://www.w3.org/2000/svg\"\n                                                            width=\"24\"\n                                                            height=\"24\"\n                                                            viewBox=\"0 0 24 24\"\n                                                            fill=\"none\"\n                                                            stroke=\"currentColor\"\n                                                            stroke-width=\"2\"\n                                                            stroke-linecap=\"round\"\n                                                            stroke-linejoin=\"round\"\n                                                            class=\"feather feather-share-2\"\n                                                        >\n                                                            <circle cx=\"18\" cy=\"5\" r=\"3\"></circle>\n                                                            <circle cx=\"6\" cy=\"12\" r=\"3\"></circle>\n                                                            <circle cx=\"18\" cy=\"19\" r=\"3\"></circle>\n                                                            <line x1=\"8.59\" y1=\"13.51\" x2=\"15.42\" y2=\"17.49\"></line>\n                                                            <line x1=\"15.41\" y1=\"6.51\" x2=\"8.59\" y2=\"10.49\"></line>\n                                                        </svg>\n                                                        Share</a\n                                                    >\n                                                </li>\n                                            </ul>\n                                        </div>\n                                    </div>\n                                </div>\n                                <perfect-scrollbar\n                                    class=\"chat-conversation-box\"\n                                    :options=\"{ wheelSpeed: 0.5, swipeEasing: !0, minScrollbarLength: 40, maxScrollbarLength: 300, suppressScrollX: true }\"\n                                >\n                                    <div id=\"chat-conversation-box-scroll\" class=\"chat-conversation-box-scroll\">\n                                        <div class=\"chat active-chat\">\n                                            <div class=\"conversation-start\">\n                                                <span>Today, 6:48 AM</span>\n                                            </div>\n\n                                            <template v-if=\"selected_user.messages && selected_user.messages.length\">\n                                                <div\n                                                    v-for=\"(message, index) in selected_user.messages\"\n                                                    class=\"bubble\"\n                                                    :key=\"'msg' + index\"\n                                                    :class=\"[selected_user.user_id == message.from_user_id ? 'me' : 'you']\"\n                                                >\n                                                    {{ message.text }}\n                                                </div>\n                                            </template>\n                                        </div>\n                                    </div>\n                                </perfect-scrollbar>\n                                <div class=\"chat-footer chat-active\">\n                                    <div class=\"chat-input\">\n                                        <div class=\"chat-form\">\n                                            <svg\n                                                xmlns=\"http://www.w3.org/2000/svg\"\n                                                width=\"24\"\n                                                height=\"24\"\n                                                viewBox=\"0 0 24 24\"\n                                                fill=\"none\"\n                                                stroke=\"currentColor\"\n                                                stroke-width=\"2\"\n                                                stroke-linecap=\"round\"\n                                                stroke-linejoin=\"round\"\n                                                class=\"feather feather-message-square\"\n                                            >\n                                                <path d=\"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z\"></path>\n                                            </svg>\n                                            <input type=\"text\" v-model=\"text_message\" class=\"mail-write-box form-control\" placeholder=\"Message\" @keyup.enter.exact=\"send_message\" />\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n<script setup>\n    import { onMounted, ref } from 'vue';\n    import '@/assets/sass/apps/chat.scss';\n\n    import { useMeta } from '@/composables/use-meta';\n    useMeta({ title: 'Chat' });\n\n    const is_show_user_menu = ref(false);\n    let contact_list = ref([]);\n    const filterd_contact_list = ref([]);\n    const selected_user = ref(null);\n    const login_user_id = ref(0); //system login user id\n    const search_user = ref('');\n    const text_message = ref('');\n\n    onMounted(() => {\n        bind_contact_list();\n    });\n\n    const bind_contact_list = () => {\n        contact_list.value = [\n            {\n                user_id: 1,\n                name: 'Nia Hillyer',\n                path: 'profile-4.jpeg',\n                time: '2:09 PM',\n                preview: 'How do you do?',\n                messages: [\n                    { from_user_id: login_user_id.value, to_usr_id: 1, text: 'Hi, I am back from vacation' },\n                    { from_user_id: login_user_id.value, to_usr_id: 1, text: 'How are you?' },\n                    { from_user_id: 1, to_usr_id: login_user_id.value, text: 'Welcom Back' },\n                    { from_user_id: 1, to_usr_id: login_user_id.value, text: 'I am all well' },\n                    { from_user_id: login_user_id.value, to_usr_id: 1, text: 'Coffee?' },\n                ],\n            },\n            {\n                user_id: 2,\n                name: 'Sean Freeman',\n                path: 'profile-3.jpeg',\n                time: '2:09 PM',\n                preview: 'I was wondering...',\n                messages: [\n                    { from_user_id: login_user_id.value, to_usr_id: 2, text: 'Hello' },\n                    { from_user_id: login_user_id.value, to_usr_id: 2, text: \"It's me\" },\n                    { from_user_id: login_user_id.value, to_usr_id: 2, text: 'I have a question regarding project.' },\n                ],\n            },\n            {\n                user_id: 3,\n                name: 'Alma Clarke',\n                path: 'profile-11.jpeg',\n                time: '1:44 PM',\n                preview: 'I’ve forgotten how it felt before',\n                messages: [\n                    { from_user_id: login_user_id.value, to_usr_id: 3, text: 'Hey Buddy.' },\n                    { from_user_id: login_user_id.value, to_usr_id: 3, text: \"What's up\" },\n                    { from_user_id: 3, to_usr_id: login_user_id.value, text: 'I am sick' },\n                    { from_user_id: login_user_id.value, to_usr_id: 3, text: 'Not comming to office today.' },\n                ],\n            },\n            {\n                user_id: 4,\n                name: 'Alan Green',\n                path: 'profile-23.jpeg',\n                time: '2:09 PM',\n                preview: 'But we’re probably gonna need a new carpet.',\n                messages: [\n                    { from_user_id: login_user_id.value, to_usr_id: 4, text: 'Hi, collect your check' },\n                    { from_user_id: 4, to_usr_id: login_user_id.value, text: 'Ok, I will be there in 10 mins' },\n                ],\n            },\n            {\n                user_id: 5,\n                name: 'Shaun Park',\n                path: 'profile-7.jpeg',\n                time: '2:09 PM',\n                preview: 'It’s not that bad...',\n                messages: [\n                    { from_user_id: login_user_id.value, to_usr_id: 3, text: 'Hi, I am back from vacation' },\n                    { from_user_id: login_user_id.value, to_usr_id: 3, text: 'How are you?' },\n                    { from_user_id: login_user_id.value, to_usr_id: 5, text: 'Welcom Back' },\n                    { from_user_id: login_user_id.value, to_usr_id: 5, text: 'I am all well' },\n                    { from_user_id: 5, to_usr_id: login_user_id.value, text: 'Coffee?' },\n                ],\n            },\n            {\n                user_id: 6,\n                name: 'Roxanne',\n                path: 'profile-15.jpeg',\n                time: '2:09 PM',\n                preview: 'Wasup for the third time like is you bling bitch',\n                messages: [\n                    { from_user_id: login_user_id.value, to_usr_id: 6, text: 'Hi' },\n                    { from_user_id: login_user_id.value, to_usr_id: 6, text: 'Uploaded files to server.' },\n                ],\n            },\n            { user_id: 7, name: 'Ernest Reeves', path: 'profile-32.jpeg', time: '2:09 PM', preview: 'Wasup for the third time like is you bling bitch', messages: [] },\n            { user_id: 8, name: 'Laurie Fox', path: 'profile-33.jpeg', time: '2:09 PM', preview: 'Wasup for the third time like is you bling bitch', messages: [] },\n            { user_id: 9, name: 'Xavier', path: 'profile-21.jpeg', time: '2:09 PM', preview: 'Wasup for the third time like is you bling bitch', messages: [] },\n            { user_id: 10, name: 'Susan Phillips', path: 'profile-12.jpeg', time: '2:09 PM', preview: 'Wasup for the third time like is you bling bitch', messages: [] },\n            { user_id: 11, name: 'Dale Butler', path: 'profile-26.jpeg', time: '2:09 PM', preview: 'Wasup for the third time like is you bling bitch', messages: [] },\n            { user_id: 12, name: 'Grace Roberts', path: 'profile-20.jpeg', time: '2:09 PM', preview: 'Wasup for the third time like is you bling bitch', messages: [] },\n        ];\n        search_users();\n    };\n\n    const select_user = (user) => {\n        selected_user.value = user;\n        scroll_to_bottom();\n        is_show_user_menu.value = false;\n    };\n    const search_users = () => {\n        filterd_contact_list.value = contact_list.value.filter((d) => d.name.toLowerCase().includes(search_user.value));\n    };\n    const send_message = () => {\n        if (text_message.value.trim()) {\n            const user = contact_list.value.find((d) => d.user_id == selected_user.value.user_id);\n            user.messages.push({ from_user_id: selected_user.value.user_id, to_usr_id: login_user_id.value, text: text_message.value });\n            text_message.value = '';\n            scroll_to_bottom();\n        }\n    };\n    const scroll_to_bottom = () => {\n        setTimeout(() => {\n            const element = document.querySelector('.chat-conversation-box');\n            element.scrollTop = element.scrollHeight;\n            element.behavior = 'smooth';\n        });\n    };\n</script>\n"]},"metadata":{},"sourceType":"module"}