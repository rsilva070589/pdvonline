{"ast":null,"code":"import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass, normalizeStyle as _normalizeStyle, createTextVNode as _createTextVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"layout-px-spacing\",\n  style: {\n    \"margin-top\": \"0px\"\n  }\n};\n\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"h4\", null, \"Historico de Vendas do Item\", -1\n/* HOISTED */\n);\n\nconst _hoisted_3 = {\n  style: {\n    \"padding\": \"10px\"\n  }\n};\nconst _hoisted_4 = {\n  style: {\n    \"color\": \"red\"\n  }\n};\nconst _hoisted_5 = {\n  class: \"panel br-0 p-0 mt-0\"\n};\nconst _hoisted_6 = {\n  class: \"custom-table\"\n};\nconst _hoisted_7 = {\n  class: \"progress\"\n};\nconst _hoisted_8 = [\"aria-valuemax\"];\nconst _hoisted_9 = {\n  class: \"me-2 custom-dropdown dropdown btn-group\"\n};\nconst _hoisted_10 = {\n  class: \"btn dropdown-toggle btn-icon-only\",\n  href: \"#\",\n  role: \"button\",\n  id: \"pendingTask\",\n  \"data-bs-toggle\": \"dropdown\",\n  \"aria-haspopup\": \"true\",\n  \"aria-expanded\": \"false\"\n};\nconst _hoisted_11 = {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  style: {\n    \"width\": \"24px\",\n    \"height\": \"24px\"\n  },\n  width: \"24\",\n  height: \"24\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  \"stroke-width\": \"2\",\n  \"stroke-linecap\": \"round\",\n  \"stroke-linejoin\": \"round\",\n  class: \"feather feather-more-horizontal\"\n};\n\nconst _hoisted_12 = /*#__PURE__*/_createElementVNode(\"circle\", {\n  cx: \"12\",\n  cy: \"12\",\n  r: \"1\"\n}, null, -1\n/* HOISTED */\n);\n\nconst _hoisted_13 = /*#__PURE__*/_createElementVNode(\"circle\", {\n  cx: \"19\",\n  cy: \"12\",\n  r: \"1\"\n}, null, -1\n/* HOISTED */\n);\n\nconst _hoisted_14 = /*#__PURE__*/_createElementVNode(\"circle\", {\n  cx: \"5\",\n  cy: \"12\",\n  r: \"1\"\n}, null, -1\n/* HOISTED */\n);\n\nconst _hoisted_15 = [_hoisted_12, _hoisted_13, _hoisted_14];\nconst _hoisted_16 = {\n  class: \"dropdown-menu dropdown-menu-end\"\n};\nconst _hoisted_17 = [\"onClick\"];\nconst _hoisted_18 = [\"onClick\"];\n\nconst _hoisted_19 = /*#__PURE__*/_createElementVNode(\"a\", {\n  href: \"javascript:void(0);\",\n  class: \"dropdown-item\"\n}, \" Edit \", -1\n/* HOISTED */\n);\n\nconst _hoisted_20 = [_hoisted_19];\nconst _hoisted_21 = [\"onClick\"];\n\nconst _hoisted_22 = /*#__PURE__*/_createElementVNode(\"a\", {\n  href: \"javascript:void(0);\",\n  class: \"dropdown-item\"\n}, \" Delete \", -1\n/* HOISTED */\n);\n\nconst _hoisted_23 = [_hoisted_22];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_v_client_table = _resolveComponent(\"v-client-table\");\n\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_hoisted_2, _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"h3\", _hoisted_4, _toDisplayString($setup.store.ItensSelecionadoDemanda.NOME) + \" - \" + _toDisplayString($setup.store.ItensSelecionadoDemanda.CODIGO_BARRAS), 1\n  /* TEXT */\n  )]), _createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"div\", _hoisted_6, [_createVNode(_component_v_client_table, {\n    data: $setup.store.itensHistorico,\n    columns: $setup.columns1,\n    options: $setup.table_option1\n  }, {\n    progress: _withCtx(props => [_createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"div\", {\n      role: \"progressbar\",\n      \"aria-valuemin\": \"0\",\n      \"aria-valuemax\": props.row.progress.count,\n      \"aria-valuenow\": \"100\",\n      class: _normalizeClass([\"progress-bar\", 'bg-' + props.row.progress.class]),\n      style: _normalizeStyle({\n        width: props.row.progress.count + '%'\n      })\n    }, null, 14\n    /* CLASS, STYLE, PROPS */\n    , _hoisted_8)])]),\n    salary: _withCtx(props => [_createTextVNode(\" $\" + _toDisplayString(props.row.salary), 1\n    /* TEXT */\n    )]),\n    actions: _withCtx(props => [_createElementVNode(\"div\", _hoisted_9, [_createElementVNode(\"a\", _hoisted_10, [(_openBlock(), _createElementBlock(\"svg\", _hoisted_11, _hoisted_15))]), _createElementVNode(\"ul\", _hoisted_16, [_createElementVNode(\"li\", null, [_createElementVNode(\"a\", {\n      href: \"javascript:void(0);\",\n      class: \"dropdown-item\",\n      onClick: $event => _ctx.view_row1(props.row)\n    }, \" view \", 8\n    /* PROPS */\n    , _hoisted_17)]), _createElementVNode(\"li\", {\n      onClick: $event => _ctx.selectItemEdit(props.row)\n    }, _hoisted_20, 8\n    /* PROPS */\n    , _hoisted_18), _createElementVNode(\"li\", {\n      onClick: $event => _ctx.deleteItem(props.row)\n    }, _hoisted_23, 8\n    /* PROPS */\n    , _hoisted_21)])])]),\n    _: 1\n    /* STABLE */\n\n  }, 8\n  /* PROPS */\n  , [\"data\", \"columns\", \"options\"])])]), _createElementVNode(\"div\", null, [_createElementVNode(\"button\", {\n    onClick: _cache[0] || (_cache[0] = $event => $setup.store.itensDetalhe = false)\n  }, \"Voltar\")])]);\n}","map":{"version":3,"mappings":"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","names":["class","style","_createElementVNode","href","role","id","xmlns","width","height","viewBox","fill","stroke","cx","cy","r","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_19","_hoisted_22","_createElementBlock","_hoisted_2","_toDisplayString","$setup","ItensSelecionadoDemanda","NOME","CODIGO_BARRAS","_createVNode","_component_v_client_table","data","itensHistorico","columns","options","progress","props","row","count","salary","actions","_hoisted_15","onClick","_ctx","_hoisted_17","itensDetalhe"],"sourceRoot":"","sources":["/home/renato/projetos/pdvsmart/src/views/itens/ItensDetalhe.vue"],"sourcesContent":["<template>\n    <div class=\"layout-px-spacing\" style=\"margin-top: 0px;\">\n    <h4>Historico de Vendas do Item</h4>\n      \n  <div style=\"padding: 10px;\">\n    <h3 style=\"color: red;\">{{ store.ItensSelecionadoDemanda.NOME }} - {{  store.ItensSelecionadoDemanda.CODIGO_BARRAS }}</h3> \n  </div>\n\n  <div class=\"panel br-0 p-0 mt-0\">\n                    <div class=\"custom-table\">\n                        <v-client-table :data=\"store.itensHistorico\" :columns=\"columns1\" :options=\"table_option1\">\n                        \n                            <template #progress=\"props\">\n                                <div class=\"progress\">\n                                    <div\n                                        role=\"progressbar\"\n                                        aria-valuemin=\"0\"\n                                        :aria-valuemax=\"props.row.progress.count\"\n                                        aria-valuenow=\"100\"\n                                        class=\"progress-bar\"\n                                        :class=\"'bg-' + props.row.progress.class\"\n                                        :style=\"{ width: props.row.progress.count + '%' }\"\n                                    ></div>\n                                </div>\n                            </template>\n                            <template #salary=\"props\"> ${{ props.row.salary }} </template>\n                            <template #actions=\"props\">\n                                <div class=\"me-2 custom-dropdown dropdown btn-group\">\n                                    <a class=\"btn dropdown-toggle btn-icon-only\" href=\"#\" role=\"button\" id=\"pendingTask\" data-bs-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                                        <svg\n                                            xmlns=\"http://www.w3.org/2000/svg\"\n                                            style=\"width: 24px; height: 24px\"\n                                            width=\"24\"\n                                            height=\"24\"\n                                            viewBox=\"0 0 24 24\"\n                                            fill=\"none\"\n                                            stroke=\"currentColor\"\n                                            stroke-width=\"2\"\n                                            stroke-linecap=\"round\"\n                                            stroke-linejoin=\"round\"\n                                            class=\"feather feather-more-horizontal\"\n                                        >\n                                            <circle cx=\"12\" cy=\"12\" r=\"1\"></circle>\n                                            <circle cx=\"19\" cy=\"12\" r=\"1\"></circle>\n                                            <circle cx=\"5\" cy=\"12\" r=\"1\"></circle>\n                                        </svg>\n                                    </a>\n\n                                    <ul class=\"dropdown-menu dropdown-menu-end\">\n                                        <li>\n                                            <a href=\"javascript:void(0);\" class=\"dropdown-item\" @click=\"view_row1(props.row)\"> view </a>\n                                        </li>\n                                        <li @click=\"selectItemEdit(props.row)\">\n                                            <a href=\"javascript:void(0);\" class=\"dropdown-item\"> Edit </a>\n                                        </li>\n                                        <li @click=\"deleteItem(props.row)\">\n                                            <a href=\"javascript:void(0);\" class=\"dropdown-item\"> Delete </a>\n                                        </li>\n                                    </ul>\n                                </div>\n                            </template>\n                        </v-client-table>\n                    </div>\n                </div>\n      \n      <div>\n      <button @click=\"store.itensDetalhe = false\" >Voltar</button>\n      </div>\n    </div>\n     \n</template>\n\n<script setup>\n    import {indexStore} from '../../store/indexStore' \n    import { onMounted, ref } from 'vue';\n    import axios from 'axios'\n    import { useMeta } from '@/composables/use-meta';\n   \n    useMeta({ title: 'Multiple Tables' });\n    const store = indexStore(); \n    const code_arr = ref([]);\n    //table 1\n   \n    \n    //table 2\n    const columns1 = ref(['MES', 'COD_PRODUTO', 'NOME' ,'QTDE','VALOR','CUSTO','LUCRO']);\n    const items1 = store.itensHistorico;\n    const table_option1 = ref({\n        perPage: 10,\n        perPageValues: [5, 10, 20, 50],\n        skin: 'table ',\n        columnsClasses: { actions: 'actions text-center' },\n        sortable: [],\n        pagination: { nav: 'scroll', chunk: 5 },\n        texts: {\n            count: 'Showing {from} to {to} of {count}',\n            filter: '',\n            filterPlaceholder: 'Search...',\n            limit: 'Results:',\n        },\n        sortable: ['MES', 'COD_PRODUTO', 'NOME', 'QTDE', 'VALOR','CUSTO','LUCRO' ],\n        sortIcon: {\n            base: 'sort-icon-none',\n            up: 'sort-icon-asc',\n            down: 'sort-icon-desc',\n        },\n        resizableColumns: false,\n    });\n\n    onMounted(() => {\n    \n            bind_data();\n      \n    });\n\n \n \n \n    const bind_data = async  () => { \n        store.itensHistorico =  []\n            var result = await axios.get(store.baseApiHTTPS+'/mercadohistorico/'+store.ItensSelecionadoDemanda.CODIGO_BARRAS)  \n        //table 2\n        console.log(result.data)\n        store.itensHistorico =  result.data\n    \n\n    }\n \n\n \n \n \n\n \n\n  \n function totalEstoque() {\n    if (store.itensCadastro){\n        var somarProduto = store.itensCadastro.map(p =>{\n                return (p.VALOR_CUSTO * p.QTDE_ESTOQUE)\n              } )\n             \n\n  let totalProd = 0\n  for(let i in somarProduto) {\n           totalProd += somarProduto[i] \n    }\n    \n          return formataDinheiro(totalProd,2)\n    }\n\n}\n  \nfunction formataDinheiro(item) {\n         let venda = item;\n         if (!!venda && venda.toString().includes(\",\")) {\n           venda = venda.toString().replace(\",\", \".\");\n         }\n         return parseFloat(venda)\n           .toFixed(2)\n           .replace(\".\", \",\")\n           .replace(/(\\d)(?=(\\d{3})+\\,)/g, \"$1.\");\n    }\n\n</script>\n"]},"metadata":{},"sourceType":"module"}