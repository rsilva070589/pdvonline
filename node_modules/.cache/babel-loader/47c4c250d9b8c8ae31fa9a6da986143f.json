{"ast":null,"code":"import \"core-js/modules/es.array.includes.js\";\nimport Progress from '@/components/Progress.vue';\nimport { indexStore } from '../../store/indexStore';\nimport { onMounted, ref } from 'vue';\nimport axios from 'axios';\nimport { useMeta } from '@/composables/use-meta';\nexport default {\n  __name: 'Demanda',\n\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n\n    useMeta({\n      title: 'Multiple Tables'\n    });\n    const store = indexStore();\n    const code_arr = ref([]); //table 1\n\n    store.recursos.progress = true;\n    store.tipoDemanda = '';\n\n    function dataAtualFormatada(dataFormat) {\n      var data = dataFormat,\n          dia = data.getDate().toString(),\n          diaF = dia.length == 1 ? '0' + dia : dia,\n          mes = (data.getMonth() + 1).toString(),\n          //+1 pois no getMonth Janeiro começa com zero.\n      mesF = mes.length == 1 ? '0' + mes : mes,\n          anoF = data.getFullYear();\n      return diaF + \"/\" + mesF + \"/\" + anoF;\n    }\n\n    function dataAtualMes(dataFormat) {\n      var data = dataFormat,\n          dia = data.getDate().toString(),\n          diaF = dia.length == 1 ? '0' + dia : dia,\n          mes = (data.getMonth() + 1).toString(),\n          //+1 pois no getMonth Janeiro começa com zero.\n      mesF = mes.length == 1 ? '0' + mes : mes,\n          anoF = data.getFullYear();\n      return mesF + \"/\" + anoF;\n    }\n\n    const end = new Date();\n    end.setHours(23, 59, 59, 999);\n    end.getTime();\n\n    function formataDinheiro(item) {\n      let venda = item;\n\n      if (!!venda && venda.toString().includes(\",\")) {\n        venda = venda.toString().replace(\",\", \".\");\n      }\n\n      return parseFloat(venda).toFixed(2).replace(\".\", \",\").replace(/(\\d)(?=(\\d{3})+\\,)/g, \"$1.\");\n    }\n\n    var arredonda = function (numero, casasDecimais) {\n      casasDecimais = typeof casasDecimais !== 'undefined' ? casasDecimais : 0;\n      return +(Math.floor(numero + ('e+' + casasDecimais)) + ('e-' + casasDecimais));\n    };\n\n    onMounted(() => {\n      bind_data();\n    });\n\n    const bind_data = async () => {\n      store.itensRelDemanda = [];\n      var result = await axios.get(store.baseApiHTTPS + '/demanda'); // var result = await axios.get('http://localhost:4141/demanda') \n      //table 2 \n\n      store.itensRelDemanda = result.data;\n      store.recursos.progress = false;\n    };\n\n    const __returned__ = {\n      store,\n      code_arr,\n      dataAtualFormatada,\n      dataAtualMes,\n      end,\n      formataDinheiro,\n\n      get arredonda() {\n        return arredonda;\n      },\n\n      set arredonda(v) {\n        arredonda = v;\n      },\n\n      bind_data,\n      Progress,\n\n      get indexStore() {\n        return indexStore;\n      },\n\n      onMounted,\n      ref,\n\n      get axios() {\n        return axios;\n      },\n\n      get useMeta() {\n        return useMeta;\n      }\n\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n\n};","map":{"version":3,"mappings":"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","names":["Progress","indexStore","onMounted","ref","axios","useMeta","title","store","code_arr","recursos","progress","tipoDemanda","dataAtualFormatada","dataFormat","data","dia","getDate","toString","diaF","length","mes","getMonth","mesF","anoF","getFullYear","dataAtualMes","end","Date","setHours","getTime","formataDinheiro","item","venda","includes","replace","parseFloat","toFixed","arredonda","numero","casasDecimais","Math","floor","bind_data","itensRelDemanda","result","get","baseApiHTTPS"],"sources":["/home/renato/projetos/pdvsmart/src/views/demanda/Demanda.vue"],"sourcesContent":["<template> \n    <div class=\"layout-px-spacing\" style=\"margin-top: -100px;\">\n        <h2 class=\"text-2xl font-medium mx-2\" data-testid=\"statements-title-txt\">Demanda Mensal de Produtos</h2>\n        <div> \n</div>\n \n \n<Progress v-if=\"store.recursos.progress\" />\n\n<div v-if=\"!store.recursos.progress\">\n \n <div style=\"font-size: 17px;\">\n Estoque para os proximos:\n                                        <select  v-model=\"store.tipoDemanda\">\n                                            <option disabled value=\"\">Selecione</option> \n                                            <option>PROXIMO-ACABAR</option>\n                                            <option>ITENS-ZERADOS</option>                                                                            \n                                        </select>\n </div>\n\n <div  \n        v-if=\"!store.editando\"\n        class=\"conteudo\"\n        style=\"padding: 10px 45px 0px 0px; \n                 width: 750px; \n            max-height: 80vh;\">\n    \n        <table style=\"background-color: white;\" role=\"table\" aria-busy=\"false\" aria-colcount=\"5\" class=\"table b-table table-hover\" id=\"__BVID__310\">\n                <thead role=\"rowgroup\" class=\"\">\n                    <tr role=\"row\" class=\"\">\n                        <th role=\"columnheader\" scope=\"col\" aria-colindex=\"1\" class=\"\"><div>#</div></th>\n                        <th role=\"columnheader\" scope=\"col\" aria-colindex=\"2\" class=\"\"><div>codigo</div></th>\n                        <th role=\"columnheader\" scope=\"col\" aria-colindex=\"3\" class=\"\"><div>NOME</div></th>\n                        <th role=\"columnheader\" scope=\"col\" aria-colindex=\"4\" class=\"\"><div>QTDE-ESTOQUE</div></th>\n                        <th role=\"columnheader\" scope=\"col\" aria-colindex=\"5\" class=\"\"><div>QTDE-VENDAS</div></th>                     \n                    </tr>\n                </thead>\n                <tbody v-for=\"(item, IndexID) in store.itensRelDemanda.filter(f=> f.tipo == store.tipoDemanda)\" :key=\"IndexID\" role=\"rowgroup\">\n                    <tr role=\"row\" >\n                        <td aria-colindex=\"1\" role=\"cell\" class=\"\"> {{IndexID }}   </td>\n                        <td aria-colindex=\"2\" role=\"cell\" class=\"\"> {{item.codigo_barras }}   </td>\n                        <td aria-colindex=\"2\" role=\"cell\" class=\"\"> {{item.nome }}   </td>\n                        <td aria-colindex=\"2\" role=\"cell\" class=\"\"> {{item.qtde_estoque }}   </td>\n                        <td aria-colindex=\"2\" role=\"cell\" class=\"\"> {{item.qtde_vendas }}   </td>    \n                            \n                       \n                                      \n                    </tr> \n                    \n                </tbody>\n            </table> \n    </div>\n\n    \n</div>\n       \n    </div>\n</template>\n\n<script setup>\n    import Progress from '@/components/Progress.vue';\n    import {indexStore} from '../../store/indexStore' \n    import { onMounted, ref } from 'vue';\n    import axios from 'axios'\n    import { useMeta } from '@/composables/use-meta';\n    useMeta({ title: 'Multiple Tables' });\n    const store = indexStore(); \n    const code_arr = ref([]);\n    //table 1\n\n    store.recursos.progress = true\n\n    store.tipoDemanda = ''\n\n    function dataAtualFormatada(dataFormat){\n    var data = dataFormat,\n        dia  = data.getDate().toString(),\n        diaF = (dia.length == 1) ? '0'+dia : dia,\n        mes  = (data.getMonth()+1).toString(), //+1 pois no getMonth Janeiro começa com zero.\n        mesF = (mes.length == 1) ? '0'+mes : mes,\n        anoF = data.getFullYear();\n    return diaF+\"/\"+mesF+\"/\"+anoF;\n    } \n\n    function dataAtualMes(dataFormat){\n    var data = dataFormat,\n        dia  = data.getDate().toString(),\n        diaF = (dia.length == 1) ? '0'+dia : dia,\n        mes  = (data.getMonth()+1).toString(), //+1 pois no getMonth Janeiro começa com zero.\n        mesF = (mes.length == 1) ? '0'+mes : mes,\n        anoF = data.getFullYear();\n    return mesF+\"/\"+anoF;\n    } \n    \n        const end=new Date()\n        end.setHours(23,59,59,999)\n        end.getTime()\n \n\n    function formataDinheiro(item) {\n         let venda = item;\n         if (!!venda && venda.toString().includes(\",\")) {\n           venda = venda.toString().replace(\",\", \".\");\n         }\n         return parseFloat(venda)\n           .toFixed(2)\n           .replace(\".\", \",\")\n           .replace(/(\\d)(?=(\\d{3})+\\,)/g, \"$1.\");\n    }\n\n    var arredonda = function(numero, casasDecimais) {\n    casasDecimais = typeof casasDecimais !== 'undefined' ?  casasDecimais : 0;\n    return +(Math.floor(numero + ('e+' + casasDecimais)) + ('e-' + casasDecimais));\n  };\n\n \n      \n \n    onMounted(() => {\n        bind_data();\n    });\n\n    const bind_data = async  () => {\n        store.itensRelDemanda = []\n      var result = await axios.get(store.baseApiHTTPS+'/demanda') \n   // var result = await axios.get('http://localhost:4141/demanda') \n      \n    \n        //table 2 \n        store.itensRelDemanda =  result.data        \n        store.recursos.progress = false\n\n    }\n   \n\n \n \n\n\n</script>\n\n<style>\n.conteudo { \n    flex-direction: row;\n    /* justify-content: center; */\n    align-items: center;\n    width: 100%;\n    overflow-x: auto;\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}