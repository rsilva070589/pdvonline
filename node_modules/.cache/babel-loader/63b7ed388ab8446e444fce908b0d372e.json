{"ast":null,"code":"import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, createTextVNode as _createTextVNode, createStaticVNode as _createStaticVNode } from \"vue\";\nconst _hoisted_1 = {\n  style: {\n    \"margin-top\": \"-50px\"\n  }\n};\n\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"div\", {\n  style: {\n    \"font-size\": \"35px\"\n  }\n}, \" Gerencia de Vendas \", -1\n/* HOISTED */\n);\n\nconst _hoisted_3 = {\n  style: {\n    \"display\": \"flex\"\n  }\n};\nconst _hoisted_4 = {\n  key: 0,\n  style: {\n    \"margin-top\": \"18px\",\n    \"height\": \"35px\"\n  }\n};\nconst _hoisted_5 = {\n  key: 0,\n  class: \"conteudo\",\n  style: {\n    \"padding\": \"10px 45px 0px 0px\",\n    \"width\": \"1000px\",\n    \"max-height\": \"70vh\"\n  }\n};\nconst _hoisted_6 = {\n  key: 0,\n  style: {\n    \"padding\": \"10px 45px 0px 0px\",\n    \"width\": \"900px\"\n  }\n};\nconst _hoisted_7 = {\n  style: {\n    \"background-color\": \"white\"\n  },\n  role: \"table\",\n  \"aria-busy\": \"false\",\n  \"aria-colcount\": \"5\",\n  class: \"table b-table table-hover\",\n  id: \"__BVID__310\"\n};\n\nconst _hoisted_8 = /*#__PURE__*/_createElementVNode(\"thead\", {\n  role: \"rowgroup\",\n  class: \"\"\n}, [/*#__PURE__*/_createElementVNode(\"tr\", {\n  role: \"row\",\n  class: \"\"\n}, [/*#__PURE__*/_createElementVNode(\"th\", {\n  role: \"columnheader\",\n  scope: \"col\",\n  \"aria-colindex\": \"1\",\n  class: \"\"\n}, [/*#__PURE__*/_createElementVNode(\"div\", null, \"#\")]), /*#__PURE__*/_createElementVNode(\"th\", {\n  role: \"columnheader\",\n  scope: \"col\",\n  \"aria-colindex\": \"2\",\n  class: \"\"\n}, [/*#__PURE__*/_createElementVNode(\"div\", null, \"ID\")]), /*#__PURE__*/_createElementVNode(\"th\", {\n  role: \"columnheader\",\n  scope: \"col\",\n  \"aria-colindex\": \"3\",\n  class: \"\"\n}, [/*#__PURE__*/_createElementVNode(\"div\", null, \"DATA\")]), /*#__PURE__*/_createElementVNode(\"th\", {\n  role: \"columnheader\",\n  scope: \"col\",\n  \"aria-colindex\": \"4\",\n  class: \"\",\n  style: {\n    \"text-align\": \"center\"\n  }\n}, [/*#__PURE__*/_createElementVNode(\"div\", null, \"R$\")]), /*#__PURE__*/_createElementVNode(\"th\", {\n  role: \"columnheader\",\n  scope: \"col\",\n  \"aria-colindex\": \"5\",\n  class: \"\"\n}, [/*#__PURE__*/_createElementVNode(\"div\", null, \"PGTO\")]), /*#__PURE__*/_createElementVNode(\"th\", {\n  role: \"columnheader\",\n  scope: \"col\",\n  \"aria-colindex\": \"5\",\n  class: \"\"\n}, [/*#__PURE__*/_createElementVNode(\"div\", null, \"TIPO\")]), /*#__PURE__*/_createElementVNode(\"th\", {\n  role: \"columnheader\",\n  scope: \"col\",\n  \"aria-colindex\": \"5\",\n  class: \"\"\n}, [/*#__PURE__*/_createElementVNode(\"div\", null, \"actions\")])])], -1\n/* HOISTED */\n);\n\nconst _hoisted_9 = {\n  role: \"row\",\n  class: \"\"\n};\nconst _hoisted_10 = {\n  \"aria-colindex\": \"1\",\n  role: \"cell\",\n  class: \"\"\n};\nconst _hoisted_11 = {\n  \"aria-colindex\": \"2\",\n  role: \"cell\",\n  class: \"\"\n};\nconst _hoisted_12 = {\n  \"aria-colindex\": \"3\",\n  role: \"cell\",\n  class: \"\"\n};\nconst _hoisted_13 = {\n  \"aria-colindex\": \"4\",\n  role: \"cell\",\n  style: {\n    \"text-align\": \"right\"\n  }\n};\nconst _hoisted_14 = {\n  \"aria-colindex\": \"5\",\n  role: \"cell\",\n  class: \"\"\n};\nconst _hoisted_15 = {\n  \"aria-colindex\": \"6\",\n  role: \"cell\",\n  class: \"\"\n};\nconst _hoisted_16 = [\"onClick\"];\n\nconst _hoisted_17 = /*#__PURE__*/_createElementVNode(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: \"24\",\n  height: \"24\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  \"stroke-width\": \"2\",\n  \"stroke-linecap\": \"round\",\n  \"stroke-linejoin\": \"round\",\n  class: \"feather feather-edit\"\n}, [/*#__PURE__*/_createElementVNode(\"path\", {\n  d: \"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7\"\n}), /*#__PURE__*/_createElementVNode(\"path\", {\n  d: \"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z\"\n})], -1\n/* HOISTED */\n);\n\nconst _hoisted_18 = [_hoisted_17];\nconst _hoisted_19 = [\"onClick\"];\n\nconst _hoisted_20 = /*#__PURE__*/_createStaticVNode(\"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"24\\\" height=\\\"24\\\" viewBox=\\\"0 0 24 24\\\" fill=\\\"none\\\" stroke=\\\"currentColor\\\" stroke-width=\\\"2\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" class=\\\"feather feather-trash-2\\\"><polyline points=\\\"3 6 5 6 21 6\\\"></polyline><path d=\\\"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2\\\"></path><line x1=\\\"10\\\" y1=\\\"11\\\" x2=\\\"10\\\" y2=\\\"17\\\"></line><line x1=\\\"14\\\" y1=\\\"11\\\" x2=\\\"14\\\" y2=\\\"17\\\"></line></svg>\", 1);\n\nconst _hoisted_21 = [_hoisted_20];\nconst _hoisted_22 = {\n  style: {\n    \"text-align\": \"center\",\n    \"font-size\": \"20px\",\n    \"color\": \"blue\"\n  }\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createTextVNode(_toDisplayString(_ctx.strore.itensRelVendas) + \" \", 1\n  /* TEXT */\n  ), _createElementVNode(\"div\", _hoisted_1, [_hoisted_2, _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", null, [_createVNode($setup[\"Filtros\"])]), $setup.store.filtro.dataInicial && $setup.store.filtro.dataFinal ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [_createElementVNode(\"div\", {\n    class: \"btn btn-primary mt-3\",\n    onClick: _cache[0] || (_cache[0] = $event => $setup.getVendas($setup.tomorrow($setup.store.filtro.dataInicial), $setup.tomorrow($setup.store.filtro.dataFinal)))\n  }, \" buscar \")])) : _createCommentVNode(\"v-if\", true)]), $setup.store.itensRelVendas.length > 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [!$setup.store.editando ? (_openBlock(), _createElementBlock(\"div\", _hoisted_6, [_createElementVNode(\"table\", _hoisted_7, [_hoisted_8, (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.store.itensRelVendas, (item, i) => {\n    return _openBlock(), _createElementBlock(\"tbody\", {\n      key: item.name,\n      role: \"rowgroup\"\n    }, [_createElementVNode(\"tr\", _hoisted_9, [_createElementVNode(\"td\", _hoisted_10, _toDisplayString(i), 1\n    /* TEXT */\n    ), _createElementVNode(\"td\", _hoisted_11, _toDisplayString(item.ID), 1\n    /* TEXT */\n    ), _createElementVNode(\"td\", _hoisted_12, _toDisplayString($setup.dataFormatada(item.DATA)), 1\n    /* TEXT */\n    ), _createElementVNode(\"td\", _hoisted_13, _toDisplayString($setup.formataDinheiro(item.VLR)), 1\n    /* TEXT */\n    ), _createElementVNode(\"td\", _hoisted_14, _toDisplayString($setup.store.formasPagamentos?.filter(f => f.ID == item.FORMA_PGTO).map(x => x.DESCRICAO)[0]), 1\n    /* TEXT */\n    ), _createElementVNode(\"td\", _hoisted_15, _toDisplayString(item.TIPO_VENDA), 1\n    /* TEXT */\n    ), _createElementVNode(\"td\", null, [_createElementVNode(\"td\", null, [_createElementVNode(\"span\", {\n      onClick: $event => _ctx.selectItemEdit(item)\n    }, _hoisted_18, 8\n    /* PROPS */\n    , _hoisted_16), _createElementVNode(\"span\", {\n      onClick: $event => $setup.deleteItem(item)\n    }, _hoisted_21, 8\n    /* PROPS */\n    , _hoisted_19)])])])]);\n  }), 128\n  /* KEYED_FRAGMENT */\n  ))])])) : _createCommentVNode(\"v-if\", true)])) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"div\", _hoisted_22, \" Total: \" + _toDisplayString($setup.formataDinheiro($setup.somaValor($setup.store.itensRelVendas.filter(f => f.TIPO_VENDA == 'NORMAL').map(x => x.VLR)))), 1\n  /* TEXT */\n  )])], 64\n  /* STABLE_FRAGMENT */\n  );\n}","map":{"version":3,"mappings":"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","names":["style","_createElementVNode","class","role","id","scope","xmlns","width","height","viewBox","fill","stroke","d","_hoisted_17","_hoisted_20","_ctx","itensRelVendas","_hoisted_2","_createVNode","$setup","filtro","dataInicial","dataFinal","_createElementBlock","onClick","length","editando","_hoisted_8","_Fragment","_renderList","item","i","key","name","_toDisplayString","ID","DATA","VLR","formasPagamentos","filter","f","FORMA_PGTO","map","x","DESCRICAO","TIPO_VENDA"],"sourceRoot":"","sources":["/home/renato/projetos/pdvsmart/src/views/gerencia/GerenciaVendas.vue"],"sourcesContent":["<template>\n {{ strore.itensRelVendas }}\n    <div style=\"margin-top: -50px;\">\n           <div style=\"font-size: 35px;\">\n               Gerencia de Vendas\n           </div> \n    \n       <div style=\"display: flex;  \">\n           <div  >\n               <Filtros /> \n           </div> \n           <div    v-if=\"store.filtro.dataInicial && store.filtro.dataFinal\"\n           style=\" \n                            margin-top: 18px;\n                            height: 35px;                       \n                            \"\n                  >\n               <div \n                   class=\"btn btn-primary mt-3\"\n                   @click=\"getVendas(tomorrow(store.filtro.dataInicial),tomorrow(store.filtro.dataFinal))\"\n                           >\n                   buscar\n               </div>\n           </div> \n           \n           \n       </div>\n   \n       <div v-if=\"store.itensRelVendas.length > 0\" class=\"conteudo\"\n        style=\"padding: 10px 45px 0px 0px; \n                 width: 1000px; \n            max-height: 70vh;\"\n        >\n        <div v-if=\"!store.editando\" \n       style=\"padding: 10px 45px 0px 0px; width: 900px;\">\n       \n           <table  style=\"background-color: white;\" role=\"table\" aria-busy=\"false\" aria-colcount=\"5\" class=\"table b-table table-hover\" id=\"__BVID__310\">\n                   <thead role=\"rowgroup\" class=\"\">\n                       <tr role=\"row\" class=\"\">\n                           <th role=\"columnheader\" scope=\"col\" aria-colindex=\"1\" class=\"\"><div>#</div></th>\n                           <th role=\"columnheader\" scope=\"col\" aria-colindex=\"2\" class=\"\"><div>ID</div></th>\n                           <th role=\"columnheader\" scope=\"col\" aria-colindex=\"3\" class=\"\"><div>DATA</div></th>\n                           <th role=\"columnheader\" scope=\"col\" aria-colindex=\"4\" class=\"\" style=\"text-align: center;\"><div>R$</div></th> \n                           <th role=\"columnheader\" scope=\"col\" aria-colindex=\"5\" class=\"\"><div>PGTO</div></th>\n                           <th role=\"columnheader\" scope=\"col\" aria-colindex=\"5\" class=\"\"><div>TIPO</div></th>\n                           <th role=\"columnheader\" scope=\"col\" aria-colindex=\"5\" class=\"\"><div>actions</div></th>\n                       </tr>\n                   </thead> \n                   <tbody v-for=\"(item, i) in store.itensRelVendas\" :key=\"item.name\" role=\"rowgroup\">\n                       <tr role=\"row\" class=\"\">\n                        <td aria-colindex=\"1\" role=\"cell\" class=\"\">{{ i }}</td>\n                           <td aria-colindex=\"2\" role=\"cell\" class=\"\">{{ item.ID }}</td>\n                           <td aria-colindex=\"3\" role=\"cell\" class=\"\">{{ dataFormatada(item.DATA) }}</td>\n                           <td aria-colindex=\"4\" role=\"cell\" style=\"text-align: right;\">{{ formataDinheiro( item.VLR) }}</td> \n                           <td aria-colindex=\"5\" role=\"cell\" class=\"\">{{ store.formasPagamentos?.filter(f => f.ID == item.FORMA_PGTO).map(x => x.DESCRICAO)[0]  }}</td>\n                           <td aria-colindex=\"6\" role=\"cell\" class=\"\">{{ item.TIPO_VENDA }}</td>\n                           <td>\n                            <td>\n                                <span @click=\"selectItemEdit(item)\">\n                                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather feather-edit\"><path d=\"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7\"></path><path d=\"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z\"></path></svg>\n                                </span>\n                            \n                                <span @click=\"deleteItem(item)\">\n                                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather feather-trash-2\"><polyline points=\"3 6 5 6 21 6\"></polyline><path d=\"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2\"></path><line x1=\"10\" y1=\"11\" x2=\"10\" y2=\"17\"></line><line x1=\"14\" y1=\"11\" x2=\"14\" y2=\"17\"></line></svg>\n                                </span>\n                              </td>    \n                       </td>                       \n                       </tr>\n   \n                   </tbody>\n               </table> \n       </div>   \n       </div>\n       <div style=\"text-align: center; font-size: 20px; color: blue;\">\n                   Total: {{ formataDinheiro(somaValor(store.itensRelVendas.filter(f => f.TIPO_VENDA=='NORMAL').map(x => x.VLR))) }}\n               </div> \n   </div>\n   \n   \n   </template>\n   \n   <script setup>\n    import Progress from '@/components/Progress.vue';\n       import {indexStore,useUserStore} from '../../store/indexStore' \n       import { onMounted, ref } from 'vue';\n       import axios from 'axios'\n       import { useMeta } from '@/composables/use-meta';\n       import Filtros from './Filtros.vue'\n       useMeta({ title: 'Multiple Tables' });\n       const store = indexStore(); \n       const code_arr = ref([]); \n       const storeLogin = useUserStore();\n    \n     onMounted(() => {\n        store.itensRelVendas = []\n           bind_data();\n       });\n   \n       const bind_data = async  () => { \n   \n          store.formasPagamentos = []\n          const getFormasPgto = ()=> {\n                let data = JSON.stringify({\n            \"SCHEMA\": storeLogin.empresas?.schema \n            });\n\n            let config = {\n            method: 'post',\n            maxBodyLength: Infinity,\n            url: store.baseApiHTTPS+'/GetFormapagamento',\n            headers: { \n                'Content-Type': 'application/json'\n            },\n            data : data\n            };\n\n            axios.request(config)\n            .then((response) => { \n            response.data.map(x=> {\n                    const itens ={\n                        ID: x.id,\n                        DESCRICAO: x.descricao,\n                        PERCENTUAL: x.taxa         \n                }\n                store.formasPagamentos.push(itens)\n                }) \n            })\n            .catch((error) => {\n            console.log(error);\n            });\n            }\n\n            getFormasPgto()\n\n\n           store.recursos.progress = false\n   \n       }\n   \n       function getVendas(dataIni, dataFim){\n           store.itensRelVendas = []\n   \n           let data = JSON.stringify({\n           \"DATAINI\": dataIni,\n           \"DATAFIM\": dataFim,\n           \"SCHEMA\": storeLogin.empresas?.schema \n           });\n   \n           let config = {\n           method: 'post',\n           maxBodyLength: Infinity,\n           url: store.baseApiHTTPS+'/periodovendas',\n           headers: { \n               'Content-Type': 'application/json'\n           },\n           data : data\n           };\n   \n           axios.request(config)\n           .then((response) => {\n               response.data.filter(f => f.tipo_venda=='NORMAL').map(x =>{\n                   const dados = { \n                       ID: x.id,\n                       DATA: x.data,\n                       CATGO: x.categoria,\n                       PRODUTO: x.cod_produto,\n                       NOME: x.nome,\n                       QTDE: x.qtde,\n                       NOME: x.nome, \n                       VLR: x.valor,\n                       CUSTO: x.custo,\n                       LUCRO: arredonda(x.lucro,2),\n                       PERC_LUCRO: arredonda(x.perc_lucro,2),\n                       FORMA_PGTO: x.forma_pgto,\n                       MES: x.mes,\n                       TIPO_VENDA: x.tipo_venda\n                   } \n                   store.itensRelVendas.push(dados)\n               })\n           })\n           .catch((error) => {\n           console.log(error);\n           }); \n       }\n   \n       var arredonda = function(numero, casasDecimais) {   \n       casasDecimais = typeof casasDecimais !== 'undefined' ?  casasDecimais : 0;\n       numero = typeof numero !== 'undefined' ?  numero : 0;\n       return +(Math.floor(numero + ('e+' + casasDecimais)) + ('e-' + casasDecimais));\n       };\n   \n       function somaValor(array) { \n               var arr =  array     \n               var sum = 0; \n               for(var i =0;i<arr.length;i++){ \n                 sum+=arr[i]; \n               }  \n                \n               return sum\n             }\n   \n      function formataDinheiro(item) {\n                let venda = item;\n                if (!!venda && venda.toString().includes(\",\")) {\n                  venda = venda.toString().replace(\",\", \".\");\n                }\n                return parseFloat(venda)\n                  .toFixed(2)\n                  .replace(\".\", \",\")\n                  .replace(/(\\d)(?=(\\d{3})+\\,)/g, \"$1.\");\n           }\n   \n      function dataFormatada(d){ \n           var data =  new Date(d),\n               dia  = data.getDate().toString(),\n               diaF = (dia.length == 1) ? '0'+dia : dia,\n               mes  = (data.getMonth()+1).toString(), //+1 pois no getMonth Janeiro comeÃ§a com zero.\n               mesF = (mes.length == 1) ? '0'+mes : mes,\n               anoF = data.getFullYear();\n           return diaF+\"/\"+mesF+\"/\"+anoF;\n           }\n   \n    function tomorrow  (dt)  {\n     \n     // Creating the date instance\n     let d = new Date(dt);\n   \n     // Adding one date to the present date\n     d.setDate(d.getDate() + 1);\n   \n     let year = d.getFullYear()\n     let month = String(d.getMonth() + 1)\n     let day = String(d.getDate())\n     let mes = null\n   \n     // Adding leading 0 if the day or month\n     // is one digit value\n     month = month.length == 1 ? \n         month.padStart('2', '0') : month;\n   \n      //   if(month == '01'){ mes = 'Jan' }\n      //   if(month == '02'){ mes = 'Feb' }\n      //   if(month == '03'){ mes = 'Mar' }\n      //   if(month == '04'){ mes = 'Apr' }\n      //   if(month == '05'){ mes = 'May' }\n      //   if(month == '06'){ mes = 'Jun' }\n      //   if(month == '07'){ mes = 'Jul' }\n      //   if(month == '08'){ mes = 'Aug' }\n      //   if(month == '09'){ mes = 'Sept' }\n      //   if(month == '10'){ mes = 'Oct' }\n      //   if(month == '11'){ mes = 'Nov' }\n      //  if(month == '12'){ mes = 'Dec' }        \n   \n   \n     day = day.length == 1 ? \n         day.padStart('2', '0') : day;\n   \n     // Printing the present date \n     return(`${day}/${month}/${year}`);\n     }\n       \n     function deleteItem(props){\n    store.editando = false\n    store.cadastroProduto.ID=0\n    \n    var data =   {\"ID\" : props.ID, \"SCHEMA\": storeLogin.empresas?.schema }  \n\n                var config = {\n                method: 'delete',\n                maxBodyLength: Infinity,\n                url:  store.baseApiHTTPS+'/vendas' ,\n                headers: { \n                    'Content-Type': 'application/json'\n                },\n                data : data\n                };\n\n                axios(config)\n                .then(function (response) {\n                    getVendas(tomorrow(store.filtro.dataInicial),tomorrow(store.filtro.dataFinal))\n \n                })\n                .catch(function (error) {\n                console.log(error);\n                });\n\n }\n       \n   </script>\n\n<style>    \n \n.conteudo { \n    flex-direction: row;\n    /* justify-content: center; */\n    align-items: center;\n    width: 100%;\n    overflow-x: auto;\n}\n\n</style>"]},"metadata":{},"sourceType":"module"}