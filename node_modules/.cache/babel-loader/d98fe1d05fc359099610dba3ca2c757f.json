{"ast":null,"code":"import { createElementVNode as _createElementVNode, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, vModelSelect as _vModelSelect, withDirectives as _withDirectives, createTextVNode as _createTextVNode, renderList as _renderList, Fragment as _Fragment, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString } from \"vue\";\nconst _hoisted_1 = {\n  class: \"layout-px-spacing\",\n  style: {\n    \"margin-top\": \"0px\"\n  }\n};\n\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"h2\", {\n  class: \"text-2xl font-medium mx-2\",\n  \"data-testid\": \"statements-title-txt\"\n}, \"Demanda Mensal de Produtos\", -1\n/* HOISTED */\n);\n\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"div\", null, null, -1\n/* HOISTED */\n);\n\nconst _hoisted_4 = {\n  key: 1\n};\nconst _hoisted_5 = {\n  style: {\n    \"font-size\": \"17px\"\n  }\n};\n\nconst _hoisted_6 = /*#__PURE__*/_createElementVNode(\"option\", {\n  disabled: \"\",\n  value: \"\"\n}, \"Selecione\", -1\n/* HOISTED */\n);\n\nconst _hoisted_7 = /*#__PURE__*/_createElementVNode(\"option\", null, \"PROXIMO-ACABAR\", -1\n/* HOISTED */\n);\n\nconst _hoisted_8 = /*#__PURE__*/_createElementVNode(\"option\", null, \"ITENS-ZERADOS\", -1\n/* HOISTED */\n);\n\nconst _hoisted_9 = [_hoisted_6, _hoisted_7, _hoisted_8];\nconst _hoisted_10 = {\n  key: 0,\n  class: \"conteudo\",\n  style: {\n    \"padding\": \"10px 45px 0px 0px\",\n    \"width\": \"750px\",\n    \"max-height\": \"80vh\"\n  }\n};\nconst _hoisted_11 = {\n  style: {\n    \"background-color\": \"white\"\n  },\n  role: \"table\",\n  \"aria-busy\": \"false\",\n  \"aria-colcount\": \"5\",\n  class: \"table b-table table-hover\",\n  id: \"__BVID__310\"\n};\n\nconst _hoisted_12 = /*#__PURE__*/_createElementVNode(\"thead\", {\n  role: \"rowgroup\",\n  class: \"\"\n}, [/*#__PURE__*/_createElementVNode(\"tr\", {\n  role: \"row\",\n  class: \"\"\n}, [/*#__PURE__*/_createElementVNode(\"th\", {\n  role: \"columnheader\",\n  scope: \"col\",\n  \"aria-colindex\": \"1\",\n  class: \"\"\n}, [/*#__PURE__*/_createElementVNode(\"div\", null, \"#\")]), /*#__PURE__*/_createElementVNode(\"th\", {\n  role: \"columnheader\",\n  scope: \"col\",\n  \"aria-colindex\": \"2\",\n  class: \"\"\n}, [/*#__PURE__*/_createElementVNode(\"div\", null, \"codigo\")]), /*#__PURE__*/_createElementVNode(\"th\", {\n  role: \"columnheader\",\n  scope: \"col\",\n  \"aria-colindex\": \"3\",\n  class: \"\"\n}, [/*#__PURE__*/_createElementVNode(\"div\", null, \"NOME\")]), /*#__PURE__*/_createElementVNode(\"th\", {\n  role: \"columnheader\",\n  scope: \"col\",\n  \"aria-colindex\": \"4\",\n  class: \"\"\n}, [/*#__PURE__*/_createElementVNode(\"div\", null, \"QTDE-ESTOQUE\")]), /*#__PURE__*/_createElementVNode(\"th\", {\n  role: \"columnheader\",\n  scope: \"col\",\n  \"aria-colindex\": \"5\",\n  class: \"\"\n}, [/*#__PURE__*/_createElementVNode(\"div\", null, \"QTDE-VENDAS\")])])], -1\n/* HOISTED */\n);\n\nconst _hoisted_13 = {\n  role: \"row\"\n};\nconst _hoisted_14 = {\n  \"aria-colindex\": \"1\",\n  role: \"cell\",\n  class: \"\"\n};\nconst _hoisted_15 = {\n  \"aria-colindex\": \"2\",\n  role: \"cell\",\n  class: \"\"\n};\nconst _hoisted_16 = {\n  \"aria-colindex\": \"2\",\n  role: \"cell\",\n  class: \"\"\n};\nconst _hoisted_17 = {\n  \"aria-colindex\": \"2\",\n  role: \"cell\",\n  class: \"\"\n};\nconst _hoisted_18 = {\n  \"aria-colindex\": \"2\",\n  role: \"cell\",\n  class: \"\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_hoisted_2, _hoisted_3, $setup.store.recursos.progress ? (_openBlock(), _createBlock($setup[\"Progress\"], {\n    key: 0\n  })) : _createCommentVNode(\"v-if\", true), !$setup.store.recursos.progress ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [_createTextVNode(\" Estoque para os proximos: \"), _withDirectives(_createElementVNode(\"select\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.store.tipoDemanda = $event)\n  }, _hoisted_9, 512\n  /* NEED_PATCH */\n  ), [[_vModelSelect, $setup.store.tipoDemanda]])]), !$setup.store.editando ? (_openBlock(), _createElementBlock(\"div\", _hoisted_10, [_createElementVNode(\"table\", _hoisted_11, [_hoisted_12, (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.store.itensRelDemanda.filter(f => f.tipo == $setup.store.tipoDemanda), (item, IndexID) => {\n    return _openBlock(), _createElementBlock(\"tbody\", {\n      key: IndexID,\n      role: \"rowgroup\"\n    }, [_createElementVNode(\"tr\", _hoisted_13, [_createElementVNode(\"td\", _hoisted_14, _toDisplayString(IndexID), 1\n    /* TEXT */\n    ), _createElementVNode(\"td\", _hoisted_15, _toDisplayString(item.codigo_barras), 1\n    /* TEXT */\n    ), _createElementVNode(\"td\", _hoisted_16, _toDisplayString(item.nome), 1\n    /* TEXT */\n    ), _createElementVNode(\"td\", _hoisted_17, _toDisplayString(item.qtde_estoque), 1\n    /* TEXT */\n    ), _createElementVNode(\"td\", _hoisted_18, _toDisplayString(item.qtde_vendas), 1\n    /* TEXT */\n    )])]);\n  }), 128\n  /* KEYED_FRAGMENT */\n  ))])])) : _createCommentVNode(\"v-if\", true)])) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"mappings":"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","names":["class","style","_createElementVNode","disabled","value","_hoisted_6","_hoisted_7","_hoisted_8","role","id","scope","_createElementBlock","_hoisted_2","_hoisted_3","$setup","recursos","progress","_createBlock","key","_hoisted_4","tipoDemanda","$event","editando","_hoisted_12","_Fragment","_renderList","itensRelDemanda","filter","f","tipo","item","IndexID","_toDisplayString","codigo_barras","nome","qtde_estoque","qtde_vendas"],"sourceRoot":"","sources":["/home/renato/projetos/pdvsmart/src/views/demanda/Demanda.vue"],"sourcesContent":["<template> \n    <div class=\"layout-px-spacing\" style=\"margin-top: 0px;\">\n        <h2 class=\"text-2xl font-medium mx-2\" data-testid=\"statements-title-txt\">Demanda Mensal de Produtos</h2>\n        <div> \n</div>\n \n \n<Progress v-if=\"store.recursos.progress\" />\n\n<div v-if=\"!store.recursos.progress\">\n \n <div style=\"font-size: 17px;\">\n Estoque para os proximos:\n                                        <select  v-model=\"store.tipoDemanda\">\n                                            <option disabled value=\"\">Selecione</option> \n                                            <option>PROXIMO-ACABAR</option>\n                                            <option>ITENS-ZERADOS</option>                                                                            \n                                        </select>\n </div>\n\n <div  \n        v-if=\"!store.editando\"\n        class=\"conteudo\"\n        style=\"padding: 10px 45px 0px 0px; \n                 width: 750px; \n            max-height: 80vh;\">\n    \n        <table style=\"background-color: white;\" role=\"table\" aria-busy=\"false\" aria-colcount=\"5\" class=\"table b-table table-hover\" id=\"__BVID__310\">\n                <thead role=\"rowgroup\" class=\"\">\n                    <tr role=\"row\" class=\"\">\n                        <th role=\"columnheader\" scope=\"col\" aria-colindex=\"1\" class=\"\"><div>#</div></th>\n                        <th role=\"columnheader\" scope=\"col\" aria-colindex=\"2\" class=\"\"><div>codigo</div></th>\n                        <th role=\"columnheader\" scope=\"col\" aria-colindex=\"3\" class=\"\"><div>NOME</div></th>\n                        <th role=\"columnheader\" scope=\"col\" aria-colindex=\"4\" class=\"\"><div>QTDE-ESTOQUE</div></th>\n                        <th role=\"columnheader\" scope=\"col\" aria-colindex=\"5\" class=\"\"><div>QTDE-VENDAS</div></th>                     \n                    </tr>\n                </thead>\n                <tbody v-for=\"(item, IndexID) in store.itensRelDemanda.filter(f=> f.tipo == store.tipoDemanda)\" :key=\"IndexID\" role=\"rowgroup\">\n                    <tr role=\"row\" >\n                        <td aria-colindex=\"1\" role=\"cell\" class=\"\"> {{IndexID }}   </td>\n                        <td aria-colindex=\"2\" role=\"cell\" class=\"\"> {{item.codigo_barras }}   </td>\n                        <td aria-colindex=\"2\" role=\"cell\" class=\"\"> {{item.nome }}   </td>\n                        <td aria-colindex=\"2\" role=\"cell\" class=\"\"> {{item.qtde_estoque }}   </td>\n                        <td aria-colindex=\"2\" role=\"cell\" class=\"\"> {{item.qtde_vendas }}   </td>    \n                            \n                       \n                                      \n                    </tr> \n                    \n                </tbody>\n            </table> \n    </div>\n\n    \n</div>\n       \n    </div>\n</template>\n\n<script setup>\n    import Progress from '@/components/Progress.vue';\n    import {indexStore,useUserStore} from '../../store/indexStore' \n    import { onMounted, ref } from 'vue';\n    import axios from 'axios'\n    import { useMeta } from '@/composables/use-meta';\n    useMeta({ title: 'Multiple Tables' });\n    const store = indexStore(); \n    const code_arr = ref([]);\n    const storeLogin = useUserStore();\n    //table 1\n\n    store.recursos.progress = true\n\n    store.tipoDemanda = ''\n\n    function dataAtualFormatada(dataFormat){\n    var data = dataFormat,\n        dia  = data.getDate().toString(),\n        diaF = (dia.length == 1) ? '0'+dia : dia,\n        mes  = (data.getMonth()+1).toString(), //+1 pois no getMonth Janeiro começa com zero.\n        mesF = (mes.length == 1) ? '0'+mes : mes,\n        anoF = data.getFullYear();\n    return diaF+\"/\"+mesF+\"/\"+anoF;\n    } \n\n    function dataAtualMes(dataFormat){\n    var data = dataFormat,\n        dia  = data.getDate().toString(),\n        diaF = (dia.length == 1) ? '0'+dia : dia,\n        mes  = (data.getMonth()+1).toString(), //+1 pois no getMonth Janeiro começa com zero.\n        mesF = (mes.length == 1) ? '0'+mes : mes,\n        anoF = data.getFullYear();\n    return mesF+\"/\"+anoF;\n    } \n    \n        const end=new Date()\n        end.setHours(23,59,59,999)\n        end.getTime()\n \n\n    function formataDinheiro(item) {\n         let venda = item;\n         if (!!venda && venda.toString().includes(\",\")) {\n           venda = venda.toString().replace(\",\", \".\");\n         }\n         return parseFloat(venda)\n           .toFixed(2)\n           .replace(\".\", \",\")\n           .replace(/(\\d)(?=(\\d{3})+\\,)/g, \"$1.\");\n    }\n\n    var arredonda = function(numero, casasDecimais) {\n    casasDecimais = typeof casasDecimais !== 'undefined' ?  casasDecimais : 0;\n    return +(Math.floor(numero + ('e+' + casasDecimais)) + ('e-' + casasDecimais));\n  };\n\n \n      \n \n    onMounted(() => {\n        bind_data();\n    });\n\n    const bind_data = async  () => {\n        store.itensRelDemanda = []\n \n   // var result = await axios.get('http://localhost:4141/demanda') \n      \n   //\"SCHEMA\": storeLogin.empresas?.schema \n        //table 2 \n\n      const getDemanda = ()=> {\n        let data = JSON.stringify({\n         \"SCHEMA\": \"MERCEARIABRAGATTO\"\n            });\n\n            let config = {\n            method: 'post',\n            maxBodyLength: Infinity,\n            url: store.baseApiHTTPS+'/demanda',\n            headers: { \n                'Content-Type': 'application/json'\n            },\n            data : data\n            };\n\n            axios.request(config)\n            .then((response) => { \n            store.itensRelDemanda = response.data\n            store.recursos.progress = false\n            })\n            .catch((error) => {\n            console.log(error);\n            });\n      }\n      getDemanda()\n         \n \n        \n\n    }\n   \n\n \n \n\n\n</script>\n\n<style>\n.conteudo { \n    flex-direction: row;\n    /* justify-content: center; */\n    align-items: center;\n    width: 100%;\n    overflow-x: auto;\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}