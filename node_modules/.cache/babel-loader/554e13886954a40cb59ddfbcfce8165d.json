{"ast":null,"code":"import { indexStore, useUserStore } from '../../store/indexStore';\nexport default {\n  __name: 'Filtros',\n\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n\n    const store = indexStore();\n    const storeLogin = useUserStore();\n    store.filtro = {\n      empresa: 'CENTRAL',\n      dataInicial: dataFormatada(new Date()),\n      dataFinal: dataFormatada(new Date())\n    };\n\n    const funcaoTeste = () => {\n      console.log('funcaoTeste');\n    };\n\n    async function getTypeRel(DataBaseCliente, ComboEmpresas, DataInicial, DataFinal, TypeRel) {\n      let data = JSON.stringify({\n        \"databasecliente\": DataBaseCliente,\n        \"comboempresas\": ComboEmpresas,\n        \"datainicial\": DataInicial,\n        \"datafinal\": DataFinal,\n        \"typerel\": TypeRel\n      });\n      console.log('TypeRel: ' + TypeRel + ' DataInicial: ' + DataInicial + ' DataInicial: ' + DataFinal);\n      let config = {\n        method: 'post',\n        maxBodyLength: Infinity,\n        url: store.ulrprincipal + '/evento/report',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': 'Basic dGVzdHNlcnZlcjp0ZXN0c2VydmVy'\n        },\n        data: data\n      };\n      await axios.request(config).then(response => {\n        if (TypeRel == 8) {\n          store.relLoja = response.data.dados;\n          selectEmpresa(0);\n          console.log(store.dadosRel);\n        }\n\n        if (store.detectar_mobile()) {\n          window.scrollTo(0, 300);\n          console.log('window.scrollTo');\n        }\n\n        store.Progress = false;\n        return response;\n      }).catch(error => {\n        console.log(error);\n        store.Progress = false;\n      });\n    }\n\n    const __returned__ = {\n      store,\n      storeLogin,\n      funcaoTeste,\n      getTypeRel,\n\n      get indexStore() {\n        return indexStore;\n      },\n\n      get useUserStore() {\n        return useUserStore;\n      }\n\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n\n};","map":{"version":3,"mappings":"AAmEI,SAASA,UAAT,EAAqBC,YAArB,QAAyC,wBAAzC;;;;;;;;;IACA,MAAMC,KAAK,GAAQF,UAAU,EAA7B;IACA,MAAMG,UAAU,GAAGF,YAAY,EAA/B;IAEAC,KAAK,CAACE,MAAN,GAAc;MACNC,OAAO,EAAE,SADH;MAENC,WAAW,EAAGC,aAAa,CAAC,IAAIC,IAAJ,EAAD,CAFrB;MAGNC,SAAS,EAAKF,aAAa,CAAC,IAAIC,IAAJ,EAAD;IAHrB,CAAd;;IAMJ,MAAME,WAAW,GAAG,MAAM;MACtBC,OAAO,CAACC,GAAR,CAAY,aAAZ;IACH,CAFD;;IAIG,eAAeC,UAAf,CAA2BC,eAA3B,EAA2CC,aAA3C,EAAyDC,WAAzD,EAAqEC,SAArE,EAA+EC,OAA/E,EAAwF;MAC3E,IAAIC,IAAI,GAAGC,IAAI,CAACC,SAAL,CAAe;QAC1B,mBAAmBP,eADO;QAE1B,iBAAiBC,aAFS;QAG1B,eAAeC,WAHW;QAI1B,aAAaC,SAJa;QAK1B,WAAWC;MALe,CAAf,CAAX;MAQAP,OAAO,CAACC,GAAR,CAAY,cAAYM,OAAZ,GAAqB,gBAArB,GAAsCF,WAAtC,GAAkD,gBAAlD,GAAmEC,SAA/E;MAEA,IAAIK,MAAM,GAAG;QACbC,MAAM,EAAE,MADK;QAEbC,aAAa,EAAEC,QAFF;QAGbC,GAAG,EAAGxB,KAAK,CAACyB,YAAN,GAAmB,gBAHZ;QAIbC,OAAO,EAAE;UACL,gBAAgB,kBADX;UAEL,iBAAiB;QAFZ,CAJI;QAQbT,IAAI,EAAGA;MARM,CAAb;MAWA,MAAMU,KAAK,CAACC,OAAN,CAAcR,MAAd,EACLS,IADK,CACCC,QAAD,IAAc;QAChB,IAAGd,OAAO,IAAI,CAAd,EAAgB;UACZhB,KAAK,CAAC+B,OAAN,GAAgBD,QAAQ,CAACb,IAAT,CAAce,KAA9B;UAEAC,aAAa,CAAC,CAAD,CAAb;UAEAxB,OAAO,CAACC,GAAR,CAAYV,KAAK,CAACkC,QAAlB;QACH;;QACD,IAAGlC,KAAK,CAACmC,eAAN,EAAH,EAA2B;UACvBC,MAAM,CAACC,QAAP,CAAgB,CAAhB,EAAmB,GAAnB;UACA5B,OAAO,CAACC,GAAR,CAAY,iBAAZ;QACH;;QACDV,KAAK,CAACsC,QAAN,GAAiB,KAAjB;QACA,OAAOR,QAAP;MAEH,CAhBK,EAiBLS,KAjBK,CAiBEC,KAAD,IAAW;QAClB/B,OAAO,CAACC,GAAR,CAAY8B,KAAZ;QACAxC,KAAK,CAACsC,QAAN,GAAiB,KAAjB;MACC,CApBK,CAAN;IAqBP","names":["indexStore","useUserStore","store","storeLogin","filtro","empresa","dataInicial","dataFormatada","Date","dataFinal","funcaoTeste","console","log","getTypeRel","DataBaseCliente","ComboEmpresas","DataInicial","DataFinal","TypeRel","data","JSON","stringify","config","method","maxBodyLength","Infinity","url","ulrprincipal","headers","axios","request","then","response","relLoja","dados","selectEmpresa","dadosRel","detectar_mobile","window","scrollTo","Progress","catch","error"],"sources":["/home/renato/projetos/pdvsmart/src/views/relatorios/Filtros.vue"],"sourcesContent":["<template>\n  <div  v-if=\"storeLogin.empresas?.sucess == 'true'\"\n        class=\"row align-items-center form-group \" to=\"#breadcrumb\" >\n        <div class=\"form-group col-md-2\">\n            <label class=\"col-form-label\">Empresa</label>\n            \n            <select   class=\"mb-4 form-control flatpickr active w-100 form-select\"   \n                    v-model=\"store.filtro.empresa\"            \n                    style=\" margin-top: -15px;\"\n                    >\n                    <option \n                    v-for=\"emp, indexEmp in storeLogin.empresas.dadosempresa\"\n                    :key=\"indexEmp\"\n                    :value=\"emp.identificacaointegracao\">{{emp.identificacaointegracao}}\n                    </option>               \n            </select>\n        </div> \n\n        <div class=\"form-group col-md-2\"\n         v-bind:class=\"(store.detectar_mobile()) ? 'filtrosMobile' : 'filtrosWeb'\"\n        \n        >\n            <label class=\"col-form-label\"\n        \n            >Data Inicial</label>              \n            <input type=\"date\" v-model=\"store.filtro.dataInicial\"  data-date-format=\"DD MM YYYY\"\n            class=\"mb-4 form-control flatpickr active w-100\" \n            v-bind:class=\"(store.detectar_mobile()) ? 'filtrosMobile' : 'filtrosWeb'\"\n            style=\" margin-top: -15px;\"\n        \n            >\n        </div> \n\n        <div class=\"form-group col-md-2\"\n            v-bind:class=\"(store.detectar_mobile()) ? 'filtrosMobile' : 'filtrosWeb'\"\n        \n        >\n            <label class=\"col-form-label\"\n         \n            >Data Final</label>            \n            <input \n                type=\"date\" data-date-format=\"DD MM YYYY\" v-model=\"store.filtro.dataFinal\"  \n                class=\"mb-4 form-control flatpickr active w-100\"\n                v-bind:class=\"(store.detectar_mobile()) ? 'filtrosMobile' : 'filtrosWeb'\"\n                style=\" margin-top: -15px;\"\n                > \n                \n        </div> \n\n        <div class=\"form-group col-md-2 align-items-center \">    \n           <div class=\"btn btn-primary mb-4 form-control active w-300\" \n                v-bind:class=\"(store.detectar_mobile()) ? 'filtrosMobileButton' : 'filtrosWebButton'\"                \n                @click=\"funcaoTeste()\">\n               ATUALIZAR\n            </div>\n        </div> \n \n  </div>\n\n  <div v-if=\"store.dataErrada\"\n        style=\" margin-left: 10px; margin-top: -45px; font-size: 15px; color: red;\" \n        >\n        Data Final n√£o pode ser menor que a Data Incial...\n      </div>\n</template>\n\n<script setup> \n    import { indexStore, useUserStore } from '../../store/indexStore'   \n    const store      = indexStore(); \n    const storeLogin = useUserStore()  \n\n    store.filtro= { \n            empresa: 'CENTRAL',\n            dataInicial:  dataFormatada(new Date()),\n            dataFinal:    dataFormatada(new Date())\n        }\n\nconst funcaoTeste = () => {\n    console.log('funcaoTeste')\n}\n\n   async function getTypeRel (DataBaseCliente,ComboEmpresas,DataInicial,DataFinal,TypeRel) {\n                let data = JSON.stringify({\n                \"databasecliente\": DataBaseCliente,\n                \"comboempresas\": ComboEmpresas,\n                \"datainicial\": DataInicial,\n                \"datafinal\": DataFinal,\n                \"typerel\": TypeRel\n                });\n    \n                console.log('TypeRel: '+TypeRel +' DataInicial: '+DataInicial+' DataInicial: '+DataFinal)\n    \n                let config = {\n                method: 'post',\n                maxBodyLength: Infinity,\n                url:  store.ulrprincipal+'/evento/report',\n                headers: { \n                    'Content-Type': 'application/json', \n                    'Authorization': 'Basic dGVzdHNlcnZlcjp0ZXN0c2VydmVy'\n                },\n                data : data\n                };\n    \n                await axios.request(config)\n                .then((response) => {   \n                    if(TypeRel == 8){ \n                        store.relLoja = response.data.dados \n\n                        selectEmpresa(0)\n\n                        console.log(store.dadosRel)\n                    }                \n                    if(store.detectar_mobile()){\n                        window.scrollTo(0, 300);\n                        console.log('window.scrollTo')\n                    }\n                    store.Progress = false\n                    return response  \n                \n                })\n                .catch((error) => {\n                console.log(error);\n                store.Progress = false\n                });  \n        } \n        \n</script>\n\n<style>    \n.filtrosWeb { \n min-height: 43px;        \n}\n.filtrosMobile { \n margin-top: -30px;    \n min-height:  43px;    \n}\n.filtrosWebButton { \n min-height: 43px;   \n margin-top: 23px;       \n}\n.filtrosMobileButton { \n margin-top: -20px;    \n min-height:  43px;    \n}\n</style>"]},"metadata":{},"sourceType":"module"}