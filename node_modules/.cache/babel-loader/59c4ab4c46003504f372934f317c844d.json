{"ast":null,"code":"import { unref as _unref, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, vModelText as _vModelText, withDirectives as _withDirectives, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, vModelDynamic as _vModelDynamic, Fragment as _Fragment } from \"vue\";\n\nconst _hoisted_1 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"toast-body toast-danger justify-content-between\",\n  style: {\n    \"text-align\": \"center\"\n  }\n}, \" UsuÃ¡rio ou Senha Incorretos! \", -1);\n\nconst _hoisted_2 = [_hoisted_1];\nconst _hoisted_3 = {\n  class: \"form-container outer\"\n};\nconst _hoisted_4 = {\n  class: \"form-form\"\n};\nconst _hoisted_5 = {\n  class: \"form-form-wrap\"\n};\nconst _hoisted_6 = {\n  class: \"form-container\"\n};\nconst _hoisted_7 = {\n  class: \"form-content\"\n};\n\nconst _hoisted_8 = /*#__PURE__*/_createElementVNode(\"h1\", {\n  class: \"\"\n}, \"Login\", -1);\n\nconst _hoisted_9 = /*#__PURE__*/_createElementVNode(\"p\", {\n  class: \"\"\n}, \"Entre com seu email e senha\", -1);\n\nconst _hoisted_10 = {\n  class: \"text-start\"\n};\nconst _hoisted_11 = {\n  class: \"form\"\n};\nconst _hoisted_12 = {\n  id: \"username-field\",\n  class: \"field-wrapper input\"\n};\n\nconst _hoisted_13 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"username\"\n}, \"EMAIL\", -1);\n\nconst _hoisted_14 = /*#__PURE__*/_createElementVNode(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: \"24\",\n  height: \"24\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  \"stroke-width\": \"2\",\n  \"stroke-linecap\": \"round\",\n  \"stroke-linejoin\": \"round\",\n  class: \"feather feather-user\"\n}, [/*#__PURE__*/_createElementVNode(\"path\", {\n  d: \"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2\"\n}), /*#__PURE__*/_createElementVNode(\"circle\", {\n  cx: \"12\",\n  cy: \"7\",\n  r: \"4\"\n})], -1);\n\nconst _hoisted_15 = {\n  id: \"password-field\",\n  class: \"field-wrapper input mb-2\"\n};\nconst _hoisted_16 = {\n  class: \"d-flex justify-content-between\"\n};\n\nconst _hoisted_17 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"password\"\n}, \"SENHA\", -1);\n\nconst _hoisted_18 = /*#__PURE__*/_createElementVNode(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: \"24\",\n  height: \"24\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  \"stroke-width\": \"2\",\n  \"stroke-linecap\": \"round\",\n  \"stroke-linejoin\": \"round\",\n  class: \"feather feather-lock\"\n}, [/*#__PURE__*/_createElementVNode(\"rect\", {\n  x: \"3\",\n  y: \"11\",\n  width: \"18\",\n  height: \"11\",\n  rx: \"2\",\n  ry: \"2\"\n}), /*#__PURE__*/_createElementVNode(\"path\", {\n  d: \"M7 11V7a5 5 0 0 1 10 0v4\"\n})], -1);\n\nconst _hoisted_19 = [\"type\"];\n\nconst _hoisted_20 = /*#__PURE__*/_createElementVNode(\"path\", {\n  d: \"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z\"\n}, null, -1);\n\nconst _hoisted_21 = /*#__PURE__*/_createElementVNode(\"circle\", {\n  cx: \"12\",\n  cy: \"12\",\n  r: \"3\"\n}, null, -1);\n\nconst _hoisted_22 = [_hoisted_20, _hoisted_21];\nconst _hoisted_23 = {\n  class: \"form\",\n  style: {\n    \"justify-content\": \"space-between\"\n  }\n};\nconst _hoisted_24 = {\n  class: \"field-wrapper\"\n};\nimport { ref } from 'vue';\nimport '@/assets/sass/authentication/auth-boxed.scss';\nimport { indexStore, useUserStore } from '../../store/indexStore';\nimport { useRouter } from \"vue-router\";\nimport { useMeta } from '@/composables/use-meta';\nimport axios from 'axios';\nexport default {\n  __name: 'login',\n\n  setup(__props) {\n    useMeta({\n      title: 'Login'\n    });\n    const store = indexStore();\n    const storeLogin = useUserStore();\n    const router = useRouter();\n    const pwd_type = ref('password');\n\n    const set_pwd_type = () => {\n      if (pwd_type.value === 'password') {\n        pwd_type.value = 'text';\n      } else {\n        pwd_type.value = 'password';\n      }\n    };\n\n    const getLogin = () => {\n      let data = JSON.stringify({\n        \"email\": storeLogin.email,\n        \"senha\": storeLogin.senha\n      });\n      let config = {\n        method: 'post',\n        maxBodyLength: Infinity,\n        url: store.ulrprincipal + 'acesso',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': 'Basic dGVzdHNlcnZlcjp0ZXN0c2VydmVy'\n        },\n        data: data\n      };\n      axios.request(config).then(response => {\n        if (response.data[0]) {\n          console.log(JSON.stringify(response.data[0]));\n          storeLogin.empresas = response.data[0]; // storeLogin.empresas.dadosempresa.push(response.data)\n\n          router.push('/');\n        } else {\n          store.alertLogin = true;\n        }\n      }).catch(error => {\n        store.alertLogin = true;\n        console.log(error);\n      });\n    };\n\n    return (_ctx, _cache) => {\n      const _component_router_link = _resolveComponent(\"router-link\");\n\n      return _openBlock(), _createElementBlock(_Fragment, null, [_unref(store).alertLogin ? (_openBlock(), _createElementBlock(\"div\", {\n        key: 0,\n        onClick: _cache[0] || (_cache[0] = $event => _unref(store).alertLogin = false),\n        style: {\n          \"z-index\": \"1080\"\n        },\n        role: \"alert\",\n        \"aria-live\": \"assertive\",\n        \"aria-atomic\": \"true\"\n      }, _hoisted_2)) : _createCommentVNode(\"\", true), _createElementVNode(\"div\", {\n        class: \"form auth-boxed\",\n        onClick: _cache[4] || (_cache[4] = $event => _unref(store).alertLogin = false)\n      }, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"div\", _hoisted_7, [_hoisted_8, _hoisted_9, _createElementVNode(\"form\", _hoisted_10, [_createElementVNode(\"div\", _hoisted_11, [_createElementVNode(\"div\", _hoisted_12, [_hoisted_13, _hoisted_14, _withDirectives(_createElementVNode(\"input\", {\n        type: \"text\",\n        class: \"form-control\",\n        placeholder: \"email\",\n        \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => _unref(storeLogin).email = $event)\n      }, null, 512), [[_vModelText, _unref(storeLogin).email]])]), _createElementVNode(\"div\", _hoisted_15, [_createElementVNode(\"div\", _hoisted_16, [_hoisted_17, _createVNode(_component_router_link, {\n        to: \"\",\n        class: \"forgot-pass-link\"\n      }, {\n        default: _withCtx(() => [_createTextVNode(\"Esqueceu a senha?\")]),\n        _: 1\n      })]), _hoisted_18, _withDirectives(_createElementVNode(\"input\", {\n        type: pwd_type.value,\n        class: \"form-control\",\n        placeholder: \"Password\",\n        \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => _unref(storeLogin).senha = $event)\n      }, null, 8, _hoisted_19), [[_vModelDynamic, _unref(storeLogin).senha]]), (_openBlock(), _createElementBlock(\"svg\", {\n        onClick: set_pwd_type,\n        xmlns: \"http://www.w3.org/2000/svg\",\n        width: \"24\",\n        height: \"24\",\n        viewBox: \"0 0 24 24\",\n        fill: \"none\",\n        stroke: \"currentColor\",\n        \"stroke-width\": \"2\",\n        \"stroke-linecap\": \"round\",\n        \"stroke-linejoin\": \"round\",\n        id: \"toggle-password\",\n        class: \"feather feather-eye\"\n      }, _hoisted_22))])])]), _createElementVNode(\"div\", _hoisted_23, [_createElementVNode(\"div\", _hoisted_24, [_createElementVNode(\"div\", {\n        onClick: _cache[3] || (_cache[3] = $event => getLogin()),\n        class: \"btn btn-primary mb-4 form-control active w-300\"\n      }, \"Log In\")])])])])])])])])], 64);\n    };\n  }\n\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkHQ,SAASA,GAAT,QAAoB,KAApB;AACA,OAAO,8CAAP;AACA,SAASC,UAAT,EAAqBC,YAArB,QAAyC,wBAAzC;AACA,SAASC,SAAT,QAA0B,YAA1B;AACA,SAASC,OAAT,QAAwB,wBAAxB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;;;;IAGAD,OAAO,CAAC;MAAEE,KAAK,EAAE;IAAT,CAAD,CAAP;IACA,MAAMC,KAAK,GAAGN,UAAU,EAAxB;IACA,MAAMO,UAAU,GAAGN,YAAY,EAA/B;IAGJ,MAAMO,MAAM,GAAGN,SAAS,EAAxB;IACI,MAAMO,QAAQ,GAAGV,GAAG,CAAC,UAAD,CAApB;;IAEA,MAAMW,YAAY,GAAG,MAAM;MACvB,IAAID,QAAQ,CAACE,KAAT,KAAmB,UAAvB,EAAmC;QAC/BF,QAAQ,CAACE,KAAT,GAAiB,MAAjB;MACH,CAFD,MAEO;QACHF,QAAQ,CAACE,KAAT,GAAiB,UAAjB;MACH;IACJ,CAND;;IAQA,MAAMC,QAAQ,GAAG,MAAK;MAEd,IAAIC,IAAI,GAAGC,IAAI,CAACC,SAAL,CAAe;QAC1B,SAASR,UAAU,CAACS,KADM;QAE1B,SAAST,UAAU,CAACU;MAFM,CAAf,CAAX;MAKA,IAAIC,MAAM,GAAG;QACbC,MAAM,EAAE,MADK;QAEbC,aAAa,EAAEC,QAFF;QAGbC,GAAG,EAAEhB,KAAK,CAACiB,YAAN,GAAmB,QAHX;QAIbC,OAAO,EAAE;UACL,gBAAgB,kBADX;UAEL,iBAAiB;QAFZ,CAJI;QAQbX,IAAI,EAAGA;MARM,CAAb;MAWAT,KAAK,CAACqB,OAAN,CAAcP,MAAd,EACCQ,IADD,CACOC,QAAD,IAAc;QAEnB,IAAIA,QAAQ,CAACd,IAAT,CAAc,CAAd,CAAJ,EAAqB;UAClBe,OAAO,CAACC,GAAR,CAAYf,IAAI,CAACC,SAAL,CAAeY,QAAQ,CAACd,IAAT,CAAc,CAAd,CAAf,CAAZ;UACAN,UAAU,CAACuB,QAAX,GAAsBH,QAAQ,CAACd,IAAT,CAAc,CAAd,CAAtB,CAFkB,CAGtB;;UACIL,MAAM,CAACuB,IAAP,CAAY,GAAZ;QACF,CALD,MAKK;UACFzB,KAAK,CAAC0B,UAAN,GAAiB,IAAjB;QACF;MAGD,CAbD,EAcCC,KAdD,CAcQC,KAAD,IAAW;QACd5B,KAAK,CAAC0B,UAAN,GAAiB,IAAjB;QACJJ,OAAO,CAACC,GAAR,CAAYK,KAAZ;MACC,CAjBD;IAoBP,CAtCD","names":["ref","indexStore","useUserStore","useRouter","useMeta","axios","title","store","storeLogin","router","pwd_type","set_pwd_type","value","getLogin","data","JSON","stringify","email","senha","config","method","maxBodyLength","Infinity","url","ulrprincipal","headers","request","then","response","console","log","empresas","push","alertLogin","catch","error"],"sources":["/home/renato/projetos/pdvsmart/src/views/auth/login.vue"],"sourcesContent":["<template>\n \n \n  <div v-if=\"store.alertLogin\" @click=\"store.alertLogin=false\"\n    style=\"z-index: 1080\" role=\"alert\" aria-live=\"assertive\" aria-atomic=\"true\">\n    <div class=\"toast-body toast-danger   justify-content-between\"\n    style=\"text-align: center;\"> \n       UsuÃ¡rio ou Senha Incorretos!  \n    </div>\n</div>\n \n    \n        <div class=\"form auth-boxed\" @click=\"store.alertLogin=false\">\n            <div class=\"form-container outer\">\n                <div class=\"form-form\">\n                    <div class=\"form-form-wrap\">\n                        <div class=\"form-container\">\n                            <div class=\"form-content\">\n                                <h1 class=\"\">Login</h1>\n                                <p class=\"\">Entre com seu email e senha</p>\n    \n                                <form class=\"text-start\">\n                                   \n                                    <div class=\"form\">\n                                        <div id=\"username-field\" class=\"field-wrapper input\">\n                                            <label for=\"username\">EMAIL</label>\n                                            <svg\n                                                xmlns=\"http://www.w3.org/2000/svg\"\n                                                width=\"24\"\n                                                height=\"24\"\n                                                viewBox=\"0 0 24 24\"\n                                                fill=\"none\"\n                                                stroke=\"currentColor\"\n                                                stroke-width=\"2\"\n                                                stroke-linecap=\"round\"\n                                                stroke-linejoin=\"round\"\n                                                class=\"feather feather-user\"\n                                            >\n                                                <path d=\"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2\"></path>\n                                                <circle cx=\"12\" cy=\"7\" r=\"4\"></circle>\n                                            </svg>\n                                            <input type=\"text\" \n                                                    class=\"form-control\" \n                                                    placeholder=\"email\" \n                                                    v-model=\"storeLogin.email\" />\n                                        </div>\n    \n                                        <div id=\"password-field\" class=\"field-wrapper input mb-2\">\n                                            <div class=\"d-flex justify-content-between\">\n                                                <label for=\"password\">SENHA</label>\n                                                <router-link to=\"\" class=\"forgot-pass-link\">Esqueceu a senha?</router-link>\n                                            </div>\n                                            <svg\n                                                xmlns=\"http://www.w3.org/2000/svg\"\n                                                width=\"24\"\n                                                height=\"24\"\n                                                viewBox=\"0 0 24 24\"\n                                                fill=\"none\"\n                                                stroke=\"currentColor\"\n                                                stroke-width=\"2\"\n                                                stroke-linecap=\"round\"\n                                                stroke-linejoin=\"round\"\n                                                class=\"feather feather-lock\"\n                                            >\n                                                <rect x=\"3\" y=\"11\" width=\"18\" height=\"11\" rx=\"2\" ry=\"2\"></rect>\n                                                <path d=\"M7 11V7a5 5 0 0 1 10 0v4\"></path>\n                                            </svg>\n                                            <input :type=\"pwd_type\" \n                                                    class=\"form-control\" \n                                                    placeholder=\"Password\"\n                                                    v-model=\"storeLogin.senha\" />\n                                            <svg\n                                                @click=\"set_pwd_type\"\n                                                xmlns=\"http://www.w3.org/2000/svg\"\n                                                width=\"24\"\n                                                height=\"24\"\n                                                viewBox=\"0 0 24 24\"\n                                                fill=\"none\"\n                                                stroke=\"currentColor\"\n                                                stroke-width=\"2\"\n                                                stroke-linecap=\"round\"\n                                                stroke-linejoin=\"round\"\n                                                id=\"toggle-password\"\n                                                class=\"feather feather-eye\"\n                                            >\n                                                <path d=\"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z\"></path>\n                                                <circle cx=\"12\" cy=\"12\" r=\"3\"></circle>\n                                            </svg>\n                                        </div>\n                                    \n    \n                                      \n                                      \n                                      \n                                    </div> \n                                </form> \n                           \n                                    <div class=\"form \" style=\"justify-content: space-between;\">\n                                            <div class=\"field-wrapper \">\n                                                <div @click=\"getLogin()\"  class=\"btn btn-primary mb-4 form-control active w-300\">Log In</div>\n                                                \n                                            </div> \n                                        </div>\n    \n                               \n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </template>\n    \n    <script setup>\n        import { ref } from 'vue';\n        import '@/assets/sass/authentication/auth-boxed.scss';\n        import { indexStore, useUserStore } from '../../store/indexStore' \n        import { useRouter } from \"vue-router\"; \n        import { useMeta } from '@/composables/use-meta';\n        import axios from 'axios';\n        \n      \n        useMeta({ title: 'Login' });\n        const store = indexStore();  \n        const storeLogin = useUserStore();  \n        \n     \n    const router = useRouter()\n        const pwd_type = ref('password');\n    \n        const set_pwd_type = () => {\n            if (pwd_type.value === 'password') {\n                pwd_type.value = 'text';\n            } else {\n                pwd_type.value = 'password';\n            }\n        };\n    \n        const getLogin = ()=> {\n           \n                let data = JSON.stringify({\n                \"email\": storeLogin.email,\n                \"senha\": storeLogin.senha\n                });\n    \n                let config = {\n                method: 'post',\n                maxBodyLength: Infinity,\n                url: store.ulrprincipal+'acesso',\n                headers: { \n                    'Content-Type': 'application/json', \n                    'Authorization': 'Basic dGVzdHNlcnZlcjp0ZXN0c2VydmVy'\n                },\n                data : data\n                };\n    \n                axios.request(config)\n                .then((response) => {\n\n                 if (response.data[0]){\n                    console.log(JSON.stringify(response.data[0]));  \n                    storeLogin.empresas = response.data[0]                \n                // storeLogin.empresas.dadosempresa.push(response.data)\n                    router.push('/') \n                 }else{\n                    store.alertLogin=true\n                 }   \n\n             \n                })\n                .catch((error) => {\n                    store.alertLogin=true\n                console.log(error);\n                });\n                \n    \n        }\n    </script>\n"]},"metadata":{},"sourceType":"module"}